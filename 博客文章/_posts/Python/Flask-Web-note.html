<!DOCTYPE HTML>
<html lang="cn" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Flask-Web-note - WhaleFall Obsidian Notes</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="Keep Notes everyday">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../../favicon.svg">
        <link rel="shortcut icon" href="../../../favicon.png">
        <link rel="stylesheet" href="../../../css/variables.css">
        <link rel="stylesheet" href="../../../css/general.css">
        <link rel="stylesheet" href="../../../css/chrome.css">
        <link rel="stylesheet" href="../../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../highlight.css">
        <link rel="stylesheet" href="../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../../index.html"><strong aria-hidden="true">1.</strong> 落落的Notes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../SUMMARY.html"><strong aria-hidden="true">1.1.</strong> SUMMARY</a></li><li class="chapter-item expanded "><a href="../../../test/index.html"><strong aria-hidden="true">1.2.</strong> test</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../test/Obsidian-Hexo-模板测试.html"><strong aria-hidden="true">1.2.1.</strong> Obsidian-Hexo-模板测试</a></li><li class="chapter-item expanded "><a href="../../../test/思源笔记自动同步测试.html"><strong aria-hidden="true">1.2.2.</strong> 思源笔记自动同步测试</a></li><li class="chapter-item expanded "><a href="../../../test/落落-OpenWRT-导航页.html"><strong aria-hidden="true">1.2.3.</strong> 落落-OpenWRT-导航页</a></li></ol></li><li class="chapter-item expanded "><a href="../../../English-Study/index.html"><strong aria-hidden="true">1.3.</strong> English-Study</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../English-Study/英语音标学习.html"><strong aria-hidden="true">1.3.1.</strong> 英语音标学习</a></li></ol></li><li class="chapter-item expanded "><a href="../../../Study/index.html"><strong aria-hidden="true">1.4.</strong> Study</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../Study/Chemistry/index.html"><strong aria-hidden="true">1.4.1.</strong> Chemistry</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../Study/Chemistry/第一讲-离子反应的基础概念.html"><strong aria-hidden="true">1.4.1.1.</strong> 第一讲-离子反应的基础概念</a></li></ol></li><li class="chapter-item expanded "><a href="../../../Study/Physical/index.html"><strong aria-hidden="true">1.4.2.</strong> Physical</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../Study/Physical/第六讲.html"><strong aria-hidden="true">1.4.2.1.</strong> 第六讲</a></li><li class="chapter-item expanded "><a href="../../../Study/Physical/第一讲-运动的描述.html"><strong aria-hidden="true">1.4.2.2.</strong> 第一讲-运动的描述</a></li><li class="chapter-item expanded "><a href="../../../Study/Physical/第二讲-比例问题.html"><strong aria-hidden="true">1.4.2.3.</strong> 第二讲-比例问题</a></li><li class="chapter-item expanded "><a href="../../../Study/Physical/第5讲-力的正交分解.html"><strong aria-hidden="true">1.4.2.4.</strong> 第5讲-力的正交分解</a></li><li class="chapter-item expanded "><a href="../../../Study/Physical/第7讲.html"><strong aria-hidden="true">1.4.2.5.</strong> 第7讲</a></li></ol></li><li class="chapter-item expanded "><a href="../../../Study/Math/index.html"><strong aria-hidden="true">1.4.3.</strong> Math</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../Study/Math/第一讲-集合与常用逻辑用语.html"><strong aria-hidden="true">1.4.3.1.</strong> 第一讲-集合与常用逻辑用语</a></li><li class="chapter-item expanded "><a href="../../../Study/Math/函数.html"><strong aria-hidden="true">1.4.3.2.</strong> 函数</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../碎碎念/index.html"><strong aria-hidden="true">1.5.</strong> 碎碎念</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../碎碎念/闲鱼文案模板.html"><strong aria-hidden="true">1.5.1.</strong> 闲鱼文案模板</a></li><li class="chapter-item expanded "><a href="../../../碎碎念/奇思妙想.html"><strong aria-hidden="true">1.5.2.</strong> 奇思妙想</a></li><li class="chapter-item expanded "><a href="../../../碎碎念/猫猫.html"><strong aria-hidden="true">1.5.3.</strong> 猫猫</a></li><li class="chapter-item expanded "><a href="../../../碎碎念/福芝talk.html"><strong aria-hidden="true">1.5.4.</strong> 福芝talk</a></li><li class="chapter-item expanded "><a href="../../../碎碎念/freedom.html"><strong aria-hidden="true">1.5.5.</strong> freedom</a></li><li class="chapter-item expanded "><a href="../../../碎碎念/知乎精选.html"><strong aria-hidden="true">1.5.6.</strong> 知乎精选</a></li><li class="chapter-item expanded "><a href="../../../碎碎念/记录.html"><strong aria-hidden="true">1.5.7.</strong> 记录</a></li><li class="chapter-item expanded "><a href="../../../碎碎念/文案.html"><strong aria-hidden="true">1.5.8.</strong> 文案</a></li><li class="chapter-item expanded "><a href="../../../碎碎念/思源笔记本使用感想.html"><strong aria-hidden="true">1.5.9.</strong> 思源笔记本使用感想</a></li><li class="chapter-item expanded "><a href="../../../碎碎念/猫猫/index.html"><strong aria-hidden="true">1.5.10.</strong> 猫猫</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../碎碎念/猫猫/多多.html"><strong aria-hidden="true">1.5.10.1.</strong> 多多</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../博客文章/index.html"><strong aria-hidden="true">1.6.</strong> 博客文章</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post.html"><strong aria-hidden="true">1.6.1.</strong> 博客文章_post</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章测试.html"><strong aria-hidden="true">1.6.2.</strong> 博客文章测试</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/index.html"><strong aria-hidden="true">1.6.3.</strong> _posts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../博客文章/_posts/openwrt-lede-build-notes.html"><strong aria-hidden="true">1.6.3.1.</strong> openwrt-lede-build-notes</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Rpi-1.html"><strong aria-hidden="true">1.6.3.2.</strong> Rpi-1</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Kali-Linux-Help.html"><strong aria-hidden="true">1.6.3.3.</strong> Kali-Linux-Help</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/openwebrx-sdr.html"><strong aria-hidden="true">1.6.3.4.</strong> openwebrx-sdr</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Linux-iptables.html"><strong aria-hidden="true">1.6.3.5.</strong> Linux-iptables</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Rpi-3.html"><strong aria-hidden="true">1.6.3.6.</strong> Rpi-3</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Samba4-config.html"><strong aria-hidden="true">1.6.3.7.</strong> Samba4-config</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Depression-medicine.html"><strong aria-hidden="true">1.6.3.8.</strong> Depression-medicine</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Rpi-2.html"><strong aria-hidden="true">1.6.3.9.</strong> Rpi-2</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Server-all.html"><strong aria-hidden="true">1.6.3.10.</strong> Server-all</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Hexo-blog-format.html"><strong aria-hidden="true">1.6.3.11.</strong> Hexo-blog-format</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/radio-SWshort.html"><strong aria-hidden="true">1.6.3.12.</strong> radio-SWshort</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Freedom-network.html"><strong aria-hidden="true">1.6.3.13.</strong> Freedom-network</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/clash-proxy-guide.html"><strong aria-hidden="true">1.6.3.14.</strong> clash-proxy-guide</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/onedrive-guide.html"><strong aria-hidden="true">1.6.3.15.</strong> onedrive-guide</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Linux-note.html"><strong aria-hidden="true">1.6.3.16.</strong> Linux-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Github-workflow.html"><strong aria-hidden="true">1.6.3.17.</strong> Github-workflow</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Vim-config.html"><strong aria-hidden="true">1.6.3.18.</strong> Vim-config</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Wky-help.html"><strong aria-hidden="true">1.6.3.19.</strong> Wky-help</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/index.html"><strong aria-hidden="true">1.6.3.20.</strong> Golang</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-interface-note.html"><strong aria-hidden="true">1.6.3.20.1.</strong> Golang-interface-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-envbuild-note.html"><strong aria-hidden="true">1.6.3.20.2.</strong> Golang-envbuild-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-datatype-note.html"><strong aria-hidden="true">1.6.3.20.3.</strong> Golang-datatype-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-package-note.html"><strong aria-hidden="true">1.6.3.20.4.</strong> Golang-package-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-HTML-note.html"><strong aria-hidden="true">1.6.3.20.5.</strong> Golang-HTML-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-struct-note.html"><strong aria-hidden="true">1.6.3.20.6.</strong> Golang-struct-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-JSON-note.html"><strong aria-hidden="true">1.6.3.20.7.</strong> Golang-JSON-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-variable-note.html"><strong aria-hidden="true">1.6.3.20.8.</strong> Golang-variable-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-method-note.html"><strong aria-hidden="true">1.6.3.20.9.</strong> Golang-method-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-note-catalogue.html"><strong aria-hidden="true">1.6.3.20.10.</strong> Golang-note-catalogue</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-function-note.html"><strong aria-hidden="true">1.6.3.20.11.</strong> Golang-function-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-goruntine-note.html"><strong aria-hidden="true">1.6.3.20.12.</strong> Golang-goruntine-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-project-and-gomod-note.html"><strong aria-hidden="true">1.6.3.20.13.</strong> Golang-project-and-gomod-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-pointer-note.html"><strong aria-hidden="true">1.6.3.20.14.</strong> Golang-pointer-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-id-note.html"><strong aria-hidden="true">1.6.3.20.15.</strong> Golang-id-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-const-note.html"><strong aria-hidden="true">1.6.3.20.16.</strong> Golang-const-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-map-note.html"><strong aria-hidden="true">1.6.3.20.17.</strong> Golang-map-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-type-keyword-note.html"><strong aria-hidden="true">1.6.3.20.18.</strong> Golang-type-keyword-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Golang/Golang-error-note.html"><strong aria-hidden="true">1.6.3.20.19.</strong> Golang-error-note</a></li></ol></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Study/index.html"><strong aria-hidden="true">1.6.3.21.</strong> Study</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Study/Zhongkao-maths.html"><strong aria-hidden="true">1.6.3.21.1.</strong> Zhongkao-maths</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Study/Ancient-poems.html"><strong aria-hidden="true">1.6.3.21.2.</strong> Ancient-poems</a></li></ol></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Python/index.html"><strong aria-hidden="true">1.6.3.22.</strong> Python</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Python/Python-async.html"><strong aria-hidden="true">1.6.3.22.1.</strong> Python-async</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Python/Python-Tkinter-GUI.html"><strong aria-hidden="true">1.6.3.22.2.</strong> Python-Tkinter-GUI</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Python/Python-Generator-Iterator-decorater.html"><strong aria-hidden="true">1.6.3.22.3.</strong> Python-Generator-Iterator-decorater</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Python/Flask-Web-note.html" class="active"><strong aria-hidden="true">1.6.3.22.4.</strong> Flask-Web-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/_posts/Python/Python-Concurrent.html"><strong aria-hidden="true">1.6.3.22.5.</strong> Python-Concurrent</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../高中事件/index.html"><strong aria-hidden="true">1.7.</strong> 高中事件</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../高中事件/举报信.html"><strong aria-hidden="true">1.7.1.</strong> 举报信</a></li><li class="chapter-item expanded "><a href="../../../高中事件/举报中小学教师违规方法论.html"><strong aria-hidden="true">1.7.2.</strong> 举报中小学教师违规方法论</a></li><li class="chapter-item expanded "><a href="../../../高中事件/举报法律依据.html"><strong aria-hidden="true">1.7.3.</strong> 举报法律依据</a></li></ol></li><li class="chapter-item expanded "><a href="../../../CutBoard/index.html"><strong aria-hidden="true">1.8.</strong> CutBoard</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../CutBoard/无线电爬取脚本.html"><strong aria-hidden="true">1.8.1.</strong> 无线电爬取脚本</a></li></ol></li><li class="chapter-item expanded "><a href="../../../other/index.html"><strong aria-hidden="true">1.9.</strong> other</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../other/OPENAI-KEY.html"><strong aria-hidden="true">1.9.1.</strong> OPENAI-KEY</a></li><li class="chapter-item expanded "><a href="../../../other/模拟飞行.html"><strong aria-hidden="true">1.9.2.</strong> 模拟飞行</a></li><li class="chapter-item expanded "><a href="../../../other/写给v友的一段话.html"><strong aria-hidden="true">1.9.3.</strong> 写给v友的一段话</a></li><li class="chapter-item expanded "><a href="../../../other/未命名.html"><strong aria-hidden="true">1.9.4.</strong> 未命名</a></li></ol></li><li class="chapter-item expanded "><a href="../../../业余无线电Ham/index.html"><strong aria-hidden="true">1.10.</strong> 业余无线电Ham</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../业余无线电Ham/广播.html"><strong aria-hidden="true">1.10.1.</strong> 广播</a></li><li class="chapter-item expanded "><a href="../../../业余无线电Ham/附近航空频率.html"><strong aria-hidden="true">1.10.2.</strong> 附近航空频率</a></li><li class="chapter-item expanded "><a href="../../../业余无线电Ham/泉盛-K5-音质优化.html"><strong aria-hidden="true">1.10.3.</strong> 泉盛-K5-音质优化</a></li><li class="chapter-item expanded "><a href="../../../业余无线电Ham/业余无线电笔记.html"><strong aria-hidden="true">1.10.4.</strong> 业余无线电笔记</a></li><li class="chapter-item expanded "><a href="../../../业余无线电Ham/Opengd77-Firmware-教程.html"><strong aria-hidden="true">1.10.5.</strong> Opengd77-Firmware-教程</a></li><li class="chapter-item expanded "><a href="../../../业余无线电Ham/通联日志.html"><strong aria-hidden="true">1.10.6.</strong> 通联日志</a></li><li class="chapter-item expanded "><a href="../../../业余无线电Ham/业余无线电采购.html"><strong aria-hidden="true">1.10.7.</strong> 业余无线电采购</a></li><li class="chapter-item expanded "><a href="../../../业余无线电Ham/广播/index.html"><strong aria-hidden="true">1.10.8.</strong> 广播</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../业余无线电Ham/广播/广播收听报告-2023.05.23.html"><strong aria-hidden="true">1.10.8.1.</strong> 广播收听报告-2023.05.23</a></li></ol></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">WhaleFall Obsidian Notes</h1>

                    <div class="right-buttons">
                        <a href="../../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <hr />
<p>title: Flask Web 框架学习笔记
date: 2021-08-18 19:37:48
updated: 2021-08-18 19:37:48
categories: Python
tags: [Python, Flask, Coding]
description:
thumbnail: http://oss.whaleluo.top/blog/old/20210818152255.png
banner_img: http://oss.whaleluo.top/blog/old/20210818152255.png</p>
<hr />
<h1 id="flask-web-框架学习笔记"><a class="header" href="#flask-web-框架学习笔记">Flask Web 框架学习笔记</a></h1>
<p><img src="http://oss.whaleluo.top/blog/old/20210818152255.png-picsmall" alt="" /></p>
<h2 id="1-flask-初始化参数"><a class="header" href="#1-flask-初始化参数">1. Flask 初始化参数</a></h2>
<blockquote>
<p><strong>Flask 程序实例</strong>在创建的时候，需要<strong>默认传入当前 Flask 程序所指定的包</strong>(模块).</p>
</blockquote>
<ul>
<li>import name
<ul>
<li>Flask 程序所在的包 (模块),传 <code>__name__</code> 就可以</li>
<li>其可以决定 Flask 在访问静态文件时查找的路径</li>
</ul>
</li>
<li>static__url__path
<ul>
<li>静态文件访问路径，可以不传，默认为: /+ 静态文件目录名</li>
</ul>
</li>
<li>static_ folder
<ul>
<li>静态文件存储的文件夹，可以不传，默认为 static</li>
</ul>
</li>
<li>template_ folder
<ul>
<li>模板文件存储的文件夹，可以不传，默认为 templates</li>
</ul>
</li>
</ul>
<h3 id="flask-基本编写"><a class="header" href="#flask-基本编写">Flask 基本编写</a></h3>
<pre><code class="language-python"># 导入Flask类
from flask import Flask
#Flask类接收一个参数 __name__
app = Flask(__name__)

# 装饰器的作用是将路由映射到视图函数index
@app.route('/')
def index() :
 return 'Hello World'

# Flask应用程序实例的run方法启动WEB服务器
if __name__ == '__main__':
 app.run()
</code></pre>
<h2 id="2-flask-工程配置加载的方式"><a class="header" href="#2-flask-工程配置加载的方式">2. Flask 工程配置加载的方式</a></h2>
<h3 id="使用方式"><a class="header" href="#使用方式">使用方式</a></h3>
<p>Flask 将配置信息保存到了 <code>app.config</code> 属性中，该属性可以按照<strong>字典类型</strong>进行操作。</p>
<pre><code class="language-python3">app.config.get(name) # 读取
app.config[name] # 修改
</code></pre>
<h3 id="设置"><a class="header" href="#设置">设置</a></h3>
<ul>
<li>
<p><strong>从配置对象中加载</strong></p>
<pre><code class="language-python">from flask import Flask
class DefaultConfig(oject):
    # 密钥
    SECRET_KET = 'lovehyy2021209classpzezprem'
app = Flask(__name__)
app.config.from_object(DefaultConfig) # 从配置对象中加载

@app.route('/') # 装饰器-&gt;路由
def index(): # 视图函数
    print(app.config['SECRET_KEY'])
    return 'hello world'
</code></pre>
</li>
<li>
<p><strong>从配置文件中加载</strong></p>
<p>在项目目录下新建 <code>setting.py</code> 文件，存放大写常量</p>
<pre><code class="language-python">SECRET_KET = 'lovehyy2021209classpzezprem'
</code></pre>
<p>在 Flask 程序文件中</p>
<pre><code class="language-python">app = Flask(__name__)
app.config.from_pyfile('setting.py') # 从配置文件加载
</code></pre>
</li>
<li>
<p><strong>从环境变量中加载</strong></p>
<blockquote>
<p><strong>环境变量 (environment variables)</strong> 一般是指在操作系统中用来指定操作系统运行环境的一些参数，如: 临时文件夹位置和系统文件夹位置等。环境变量是在操作系统中一个具有特定名字的对象，它包含了一个或者多个应用程序所将使用到的信息。</p>
</blockquote>
<p><strong>通俗的理解，环境变量就是我们设置在操作系统中，由操作系统代为保存的变量值</strong>:</p>
<p>在 Linux 系统中设置和读取环境变量的方式如下:</p>
<pre><code class="language-shell">export 变量名=变量值 # 设置
echo $变量名 # 读取
</code></pre>
<p><strong>Flask 使用环境变量加载配置的本质是通过环境变量值找到配置文件</strong>，再读取配置文件的信息，其使用方式为：<br />
<code>app.config.from_ envvar('环境变量名')</code></p>
<p><strong>环境变量的值为配置文件的绝对路径</strong>先在终端中执行如下命令：</p>
<p><code>export PROJECT_ _SETTING= '~/ setting. py'</code></p>
<p>再运行如下代码</p>
<pre><code class="language-python">app = Flask(__ name__)
app.config.from_envvar('PROJECT_ SETTING', silent=True)
</code></pre>
</li>
<li>
<p><strong>各配置方式优缺点</strong></p>
<ul>
<li><strong>app.config.from _object(配置对象)</strong>
<ul>
<li>继承 - -&gt;优点复用</li>
<li>敏感数据暴露缺点</li>
</ul>
</li>
<li><strong>app.config.from_pyfile(配置文件)</strong>
<ul>
<li>优点 --&gt; 独立文件保护敏感数据</li>
<li>缺点 --&gt; 不能继承文件路径固定不灵活</li>
</ul>
</li>
<li><strong>app.config.from_envvar(&quot; 环境变量名&quot;)</strong>
<ul>
<li>优点 --&gt; 独立文件保护敏感数据文件路径不固定灵活</li>
<li>缺点 --&gt; 不方便要记得设置环境量</li>
</ul>
</li>
<li><strong>设置环境变量</strong>
<ul>
<li>终端 export</li>
<li>pycharm 设置</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="利用工厂函数设置"><a class="header" href="#利用工厂函数设置">利用工厂函数设置</a></h3>
<pre><code class="language-python">from flask import Flask

class DefaultConfig(object):
    DEBUG = True
    SECRET_KEY = 'lovehyy2021pzez209class'

def create_flask_app(config):
    '''构建flask对象的工厂函数,传入配置对象,返回配置后的app对象'''
    app = Flask(__name__, static_url_path='/static', static_folder='static')
    app.config.from_object(config)
    return app

app = create_flask_app(DefaultConfig)

@app.route('/', methods=[&quot;GET&quot;])
def index():
    return &quot;Hello Flask&quot;

if __name__ == '__mian__':
    app.run()
</code></pre>
<h2 id="3-flask-运行方式"><a class="header" href="#3-flask-运行方式">3. Flask 运行方式</a></h2>
<h3 id="直接运行-py-文件启动"><a class="header" href="#直接运行-py-文件启动">直接运行 Py 文件启动</a></h3>
<p>可以指定运行的主机 IP 地址，端口，是否开启调试模式</p>
<pre><code class="language-python">app.run(host=&quot;0.0.0.0&quot;, port=5000, debug=True)
</code></pre>
<p>关于<strong>DEBUG 调试模式</strong>：</p>
<ol>
<li>程序代码修改后可以自动重启服务器</li>
<li>在服务器出现相关错误的时候可以直接将错误信息返回到前端进行展示</li>
</ol>
<h3 id="新版启动方式"><a class="header" href="#新版启动方式">新版启动方式</a></h3>
<p><strong>开发服务器</strong>启动方式：<br />
在 1.0 版本之后，Flask 调整了开发服务器的启动方式，由代码编写 app. run() 语句调整为<strong>命令启动 flask</strong></p>
<p>终端启动：</p>
<pre><code class="language-shell">export FLASK_APP=main # 设置启动的python文件
flask run # 在项目文件下执行
</code></pre>
<h3 id="说明"><a class="header" href="#说明">说明</a></h3>
<p>环境变量 <strong>FLASK_APP</strong> 指明 flask 的启动实例：</p>
<ul>
<li><code>flask run -h 0.0.0.0 -p 8000</code> 绑定地址端口</li>
<li><code>flask run --help</code> 获取帮助</li>
<li>生产模式与开发模式的控制<br />
通过 <code>FLASK_ENV</code> 环境变量指明
<ul>
<li><code>export FLASK_ ENV=production</code> 运行在生产模式，未指明则默认为此方式</li>
<li><code>export FLASK_ ENV=development</code> 运行在开发模式</li>
</ul>
</li>
</ul>
<h2 id="4-flask-路由"><a class="header" href="#4-flask-路由">4. Flask 路由</a></h2>
<h3 id="查询路由信息"><a class="header" href="#查询路由信息">查询路由信息</a></h3>
<ul>
<li>
<p>命令行方式</p>
<pre><code class="language-shell">flask routes
</code></pre>
</li>
<li>
<p>在应用中的 <code>url_ map</code> 属性中保存着整个 Flask 应用的<strong>路由映射信息</strong>，可以通过读取这个属性获取<strong>路由信息</strong>。</p>
<p><code>print(app.url_map)</code><br />
如果想在程序中遍历路由信息，可以采用如下方式：</p>
<pre><code class="language-python">for rule in app.url_map.iter_rules():
    # endpoint 视图函数的名字
    # rule 路由的路径
 print( 'name={} path={}'. format(rule.endpoint, rule.rule))

</code></pre>
</li>
<li>
<p>搭建一个<strong>返回所有路由信息</strong>的 json 接口</p>
<pre><code class="language-python">@app.route('/', methods=[&quot;GET&quot;])
def index():
    # for rule in app.url_map.iter_rules():
    #     print(f&quot;name={rule.endpoint};path={rule.rule}&quot;)
    rules_iterator = app.url_map.iter_rules()
    # 字典推导式
    dic = {
        rule.endpoint: rule.rule
        for rule in rules_iterator
    }
    # 利用jsonify返回json数据
    return jsonify(dic)
</code></pre>
</li>
</ul>
<h2 id="5-路由-options-限定请求方式-methods"><a class="header" href="#5-路由-options-限定请求方式-methods">5. 路由 Options 限定请求方式 Methods</a></h2>
<h3 id="请求方式"><a class="header" href="#请求方式">请求方式</a></h3>
<ul>
<li>
<p><strong>GET</strong>(自带)</p>
</li>
<li>
<p><strong>OPTIONS</strong>(自带) -&gt; 简化版的 GET 请求用于询问服务器接口信息的<br />
比如接口允许的请求方式允许的</p>
<blockquote>
<p>CORS 跨域:<br />
&lt;www.meiduo.site&gt; -&gt; api.meiduo.site/users/1<br />
options api.meiduo.site/uses/1</p>
</blockquote>
</li>
<li>
<p><strong>HEAD</strong>(自带) -&gt; 简化版的 GET 请求</p>
<blockquote>
<p>只返回 GET 请求处理时的响应头，不返回响应体。</p>
</blockquote>
</li>
</ul>
<h3 id="指定接口请求方式"><a class="header" href="#指定接口请求方式">指定接口请求方式</a></h3>
<pre><code class="language-python"># 利用修饰器中的methods返回设定请求接口方式
# 定义视图
@app.route('/', methods=[&quot;POST&quot;])
def index():
    return 'POST API'
</code></pre>
<h2 id="6-蓝图"><a class="header" href="#6-蓝图">6. 蓝图</a></h2>
<h3 id="引入"><a class="header" href="#引入">引入</a></h3>
<p>在一个<strong>Flask 应用项目</strong>中，如果<strong>业务视图</strong>过多，可以用某种方式划分出的<strong>业务单元单独维护</strong>，将每个单元用到的<strong>视图、静态文件、模板文件</strong>等独立分开。</p>
<p>例如从<strong>业务角度</strong>上，可将整个应用划分为<strong>用户模块单元、商品模块单元、订单模块单元</strong>，分别开发这些不同单元，并最终整合到一个项目应用中。</p>
<h3 id="蓝图"><a class="header" href="#蓝图">蓝图</a></h3>
<p>在 Flask 中，使用<strong>蓝图 Blueprint</strong>来分模块组织管理。</p>
<p>蓝图实际可以理解为是<strong>一个存储一组视图方法的容器对象</strong>，其具有如下特点:</p>
<ul>
<li>一个应用可以具有<strong>多个 Blueprint</strong></li>
<li>可以将一个<strong>Blueprint 注册到</strong>任何一个未使用的<strong>URL</strong>下，比如“/user”、 “/godds&quot;。</li>
<li><strong>Blueprint</strong>可以单独具有<strong>自己的模板、静态文件</strong>或者其它的通用操作方法，它并不是必须要实现应用的视图和函数的</li>
<li>在一个<strong>应用初始化</strong>时，就应该要<strong>注册需要使用的 Blueprint</strong>。★</li>
<li>但是一个<strong>Blueprint</strong>并不是一个完整的应用，它<strong>不能独立于应用运行</strong>，而必须要<strong>注册到某一个应用中</strong>。★</li>
</ul>
<h3 id="定义蓝图"><a class="header" href="#定义蓝图">定义蓝图</a></h3>
<ol>
<li>
<p>定义</p>
<pre><code class="language-python">user_bp = Blueprint('user', __name__)
</code></pre>
</li>
<li>
<p>在这个<strong>蓝图对象上进行操作</strong>,<strong>注册路由</strong>,<strong>指定静态文件夹</strong>,<strong>注册模版过滤器</strong></p>
<pre><code class="language-python">@user_bp.route('/')
def user_profile():
    return 'user_profile'
</code></pre>
</li>
<li>
<p>在应用对象中注册这个蓝图对象</p>
<pre><code class="language-python">app.register_blueprint(user_bp)
</code></pre>
</li>
</ol>
<h3 id="单文件蓝图"><a class="header" href="#单文件蓝图">单文件蓝图</a></h3>
<p>可以将创建蓝图对象与定义视图函数放在一个文件中。</p>
<h3 id="目录包蓝图"><a class="header" href="#目录包蓝图">目录（包）蓝图</a></h3>
<p>对于一个打算包含<strong>多个文件的蓝图</strong>，通常将<strong>创建蓝图对象</strong>放到 Python 包的 <code>__init__.py</code> 文件中</p>
<pre><code>--------- project # 工程目录
 |---- main.py # 启动文件
 |---- user # 用户蓝图
 | |---- __init__.py # 此处创建蓝图对象
 | |---- views.py
</code></pre>
<p><img src="http://oss.whaleluo.top/blog/old/20210725224412.png-picsmall" alt="蓝图包目录实例" /></p>
<h4 id="循环引用问题"><a class="header" href="#循环引用问题">循环引用问题</a></h4>
<p><img src="http://oss.whaleluo.top/blog/old/20210725224744.png-picsmall" alt="循环引用问题" /></p>
<blockquote>
<p>所以导入视图函数要放在 <code>__init__.py</code> 文件的最后</p>
</blockquote>
<h3 id="蓝图内部静态文件"><a class="header" href="#蓝图内部静态文件">蓝图内部静态文件</a></h3>
<p>和<strong>应用对象</strong>不同，蓝图对象创建时<strong>不会默认注册静态目录的路由</strong>。需要我们在创建时指定 <code>static_folder</code> 参数。</p>
<p>下面的示例将蓝图所在目录下的 <code>static_admin</code> 目录设置为静态目录</p>
<pre><code class="language-python">admin = Blueprint (&quot;admin&quot;,__ name__ , static_folder='static_admin')
app.register_blueprint (admin, url_prefix='/admin' )
</code></pre>
<p>现在就可以使用 <code>/admin/static_admin/&lt;filename&gt;</code> 访问 <code>static_ admin</code> 目录下的静态文件了。<br />
也可通过 <code>static_url_path</code> 改变访问路径</p>
<pre><code class="language-python">admin = Blueprint(&quot;admin&quot;,__name__, static_folder='static_admin' ,static_url_path='/lib')
app.register_blueprint(admin, url_prefix='/admin')
</code></pre>
<h2 id="7-处理请求"><a class="header" href="#7-处理请求">7. 处理请求</a></h2>
<blockquote>
<p>在视图编写中需要读取客户端请求携带的数据时，如何才能正确的<strong>取出数据</strong>呢?<br />
<strong>请求携带的数据</strong>可能出现在 HTTP 报文中的不同位置，需要<strong>使用不同的方法来获取参数</strong>。</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../../博客文章/_posts/Python/Python-Generator-Iterator-decorater.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../../博客文章/_posts/Python/Python-Concurrent.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../../博客文章/_posts/Python/Python-Generator-Iterator-decorater.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../../博客文章/_posts/Python/Python-Concurrent.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../../elasticlunr.min.js"></script>
        <script src="../../../mark.min.js"></script>
        <script src="../../../searcher.js"></script>

        <script src="../../../clipboard.min.js"></script>
        <script src="../../../highlight.js"></script>
        <script src="../../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
