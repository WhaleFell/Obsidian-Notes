<!DOCTYPE HTML>
<html lang="cn" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Linux-note - WhaleFall Obsidian Notes</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="Keep Notes everyday">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../index.html"><strong aria-hidden="true">1.</strong> 落落的Notes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../SUMMARY.html"><strong aria-hidden="true">1.1.</strong> SUMMARY</a></li><li class="chapter-item expanded "><a href="../../CutBoard/index.html"><strong aria-hidden="true">1.2.</strong> CutBoard</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../CutBoard/无线电爬取脚本.html"><strong aria-hidden="true">1.2.1.</strong> 无线电爬取脚本</a></li></ol></li><li class="chapter-item expanded "><a href="../../博客文章/index.html"><strong aria-hidden="true">1.3.</strong> 博客文章</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../博客文章/博客文章测试.html"><strong aria-hidden="true">1.3.1.</strong> 博客文章测试</a></li><li class="chapter-item expanded "><a href="../../博客文章/博客文章_post.html"><strong aria-hidden="true">1.3.2.</strong> 博客文章_post</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/index.html"><strong aria-hidden="true">1.3.3.</strong> _post</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../博客文章/_post/openwebrx-sdr.html"><strong aria-hidden="true">1.3.3.1.</strong> openwebrx-sdr</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Rpi-3.html"><strong aria-hidden="true">1.3.3.2.</strong> Rpi-3</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Samba4-config.html"><strong aria-hidden="true">1.3.3.3.</strong> Samba4-config</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Study.html"><strong aria-hidden="true">1.3.3.4.</strong> Study</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Linux-note.html" class="active"><strong aria-hidden="true">1.3.3.5.</strong> Linux-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Kali-Linux-Help.html"><strong aria-hidden="true">1.3.3.6.</strong> Kali-Linux-Help</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Rpi-1.html"><strong aria-hidden="true">1.3.3.7.</strong> Rpi-1</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Hexo-blog-format.html"><strong aria-hidden="true">1.3.3.8.</strong> Hexo-blog-format</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Freedom-network.html"><strong aria-hidden="true">1.3.3.9.</strong> Freedom-network</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Vim-config.html"><strong aria-hidden="true">1.3.3.10.</strong> Vim-config</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/clash-proxy-guide.html"><strong aria-hidden="true">1.3.3.11.</strong> clash-proxy-guide</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Github-workflow.html"><strong aria-hidden="true">1.3.3.12.</strong> Github-workflow</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Linux-iptables.html"><strong aria-hidden="true">1.3.3.13.</strong> Linux-iptables</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/onedrive-guide.html"><strong aria-hidden="true">1.3.3.14.</strong> onedrive-guide</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Python.html"><strong aria-hidden="true">1.3.3.15.</strong> Python</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/openwrt-lede-build-notes.html"><strong aria-hidden="true">1.3.3.16.</strong> openwrt-lede-build-notes</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Depression-medicine.html"><strong aria-hidden="true">1.3.3.17.</strong> Depression-medicine</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang.html"><strong aria-hidden="true">1.3.3.18.</strong> Golang</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Wky-help.html"><strong aria-hidden="true">1.3.3.19.</strong> Wky-help</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/radio-SWshort.html"><strong aria-hidden="true">1.3.3.20.</strong> radio-SWshort</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Server-all.html"><strong aria-hidden="true">1.3.3.21.</strong> Server-all</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Rpi-2.html"><strong aria-hidden="true">1.3.3.22.</strong> Rpi-2</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Study/index.html"><strong aria-hidden="true">1.3.3.23.</strong> Study</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../博客文章/_post/Study/Ancient-poems.html"><strong aria-hidden="true">1.3.3.23.1.</strong> Ancient-poems</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Study/Zhongkao-maths.html"><strong aria-hidden="true">1.3.3.23.2.</strong> Zhongkao-maths</a></li></ol></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Python/index.html"><strong aria-hidden="true">1.3.3.24.</strong> Python</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../博客文章/_post/Python/Python-Generator-Iterator-decorater.html"><strong aria-hidden="true">1.3.3.24.1.</strong> Python-Generator-Iterator-decorater</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Python/Python-async.html"><strong aria-hidden="true">1.3.3.24.2.</strong> Python-async</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Python/Flask-Web-note.html"><strong aria-hidden="true">1.3.3.24.3.</strong> Flask-Web-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Python/Python-Concurrent.html"><strong aria-hidden="true">1.3.3.24.4.</strong> Python-Concurrent</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Python/Python-Tkinter-GUI.html"><strong aria-hidden="true">1.3.3.24.5.</strong> Python-Tkinter-GUI</a></li></ol></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/index.html"><strong aria-hidden="true">1.3.3.25.</strong> Golang</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-const-note.html"><strong aria-hidden="true">1.3.3.25.1.</strong> Golang-const-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-goruntine-note.html"><strong aria-hidden="true">1.3.3.25.2.</strong> Golang-goruntine-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-package-note.html"><strong aria-hidden="true">1.3.3.25.3.</strong> Golang-package-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-interface-note.html"><strong aria-hidden="true">1.3.3.25.4.</strong> Golang-interface-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-project-and-gomod-note.html"><strong aria-hidden="true">1.3.3.25.5.</strong> Golang-project-and-gomod-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-error-note.html"><strong aria-hidden="true">1.3.3.25.6.</strong> Golang-error-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-method-note.html"><strong aria-hidden="true">1.3.3.25.7.</strong> Golang-method-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-envbuild-note.html"><strong aria-hidden="true">1.3.3.25.8.</strong> Golang-envbuild-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-datatype-note.html"><strong aria-hidden="true">1.3.3.25.9.</strong> Golang-datatype-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-function-note.html"><strong aria-hidden="true">1.3.3.25.10.</strong> Golang-function-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-type-keyword-note.html"><strong aria-hidden="true">1.3.3.25.11.</strong> Golang-type-keyword-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-HTML-note.html"><strong aria-hidden="true">1.3.3.25.12.</strong> Golang-HTML-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-variable-note.html"><strong aria-hidden="true">1.3.3.25.13.</strong> Golang-variable-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-pointer-note.html"><strong aria-hidden="true">1.3.3.25.14.</strong> Golang-pointer-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-JSON-note.html"><strong aria-hidden="true">1.3.3.25.15.</strong> Golang-JSON-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-id-note.html"><strong aria-hidden="true">1.3.3.25.16.</strong> Golang-id-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-struct-note.html"><strong aria-hidden="true">1.3.3.25.17.</strong> Golang-struct-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-map-note.html"><strong aria-hidden="true">1.3.3.25.18.</strong> Golang-map-note</a></li><li class="chapter-item expanded "><a href="../../博客文章/_post/Golang/Golang-note-catalogue.html"><strong aria-hidden="true">1.3.3.25.19.</strong> Golang-note-catalogue</a></li></ol></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../English-Study/index.html"><strong aria-hidden="true">1.4.</strong> English-Study</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../English-Study/英语音标学习.html"><strong aria-hidden="true">1.4.1.</strong> 英语音标学习</a></li></ol></li><li class="chapter-item expanded "><a href="../../Study/index.html"><strong aria-hidden="true">1.5.</strong> Study</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Study/Physical/index.html"><strong aria-hidden="true">1.5.1.</strong> Physical</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Study/Physical/第5讲-力的正交分解.html"><strong aria-hidden="true">1.5.1.1.</strong> 第5讲-力的正交分解</a></li><li class="chapter-item expanded "><a href="../../Study/Physical/第二讲-比例问题.html"><strong aria-hidden="true">1.5.1.2.</strong> 第二讲-比例问题</a></li><li class="chapter-item expanded "><a href="../../Study/Physical/第六讲.html"><strong aria-hidden="true">1.5.1.3.</strong> 第六讲</a></li><li class="chapter-item expanded "><a href="../../Study/Physical/第7讲.html"><strong aria-hidden="true">1.5.1.4.</strong> 第7讲</a></li><li class="chapter-item expanded "><a href="../../Study/Physical/第一讲-运动的描述.html"><strong aria-hidden="true">1.5.1.5.</strong> 第一讲-运动的描述</a></li></ol></li><li class="chapter-item expanded "><a href="../../Study/Chemistry/index.html"><strong aria-hidden="true">1.5.2.</strong> Chemistry</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Study/Chemistry/第一讲-离子反应的基础概念.html"><strong aria-hidden="true">1.5.2.1.</strong> 第一讲-离子反应的基础概念</a></li></ol></li><li class="chapter-item expanded "><a href="../../Study/Math/index.html"><strong aria-hidden="true">1.5.3.</strong> Math</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../Study/Math/函数.html"><strong aria-hidden="true">1.5.3.1.</strong> 函数</a></li><li class="chapter-item expanded "><a href="../../Study/Math/第一讲-集合与常用逻辑用语.html"><strong aria-hidden="true">1.5.3.2.</strong> 第一讲-集合与常用逻辑用语</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../other/index.html"><strong aria-hidden="true">1.6.</strong> other</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../other/OPENAI-KEY.html"><strong aria-hidden="true">1.6.1.</strong> OPENAI-KEY</a></li><li class="chapter-item expanded "><a href="../../other/未命名.html"><strong aria-hidden="true">1.6.2.</strong> 未命名</a></li><li class="chapter-item expanded "><a href="../../other/写给v友的一段话.html"><strong aria-hidden="true">1.6.3.</strong> 写给v友的一段话</a></li><li class="chapter-item expanded "><a href="../../other/模拟飞行.html"><strong aria-hidden="true">1.6.4.</strong> 模拟飞行</a></li></ol></li><li class="chapter-item expanded "><a href="../../业余无线电Ham/index.html"><strong aria-hidden="true">1.7.</strong> 业余无线电Ham</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../业余无线电Ham/通联日志.html"><strong aria-hidden="true">1.7.1.</strong> 通联日志</a></li><li class="chapter-item expanded "><a href="../../业余无线电Ham/Opengd77-Firmware-教程.html"><strong aria-hidden="true">1.7.2.</strong> Opengd77-Firmware-教程</a></li><li class="chapter-item expanded "><a href="../../业余无线电Ham/广播.html"><strong aria-hidden="true">1.7.3.</strong> 广播</a></li><li class="chapter-item expanded "><a href="../../业余无线电Ham/泉盛-K5-音质优化.html"><strong aria-hidden="true">1.7.4.</strong> 泉盛-K5-音质优化</a></li><li class="chapter-item expanded "><a href="../../业余无线电Ham/业余无线电笔记.html"><strong aria-hidden="true">1.7.5.</strong> 业余无线电笔记</a></li><li class="chapter-item expanded "><a href="../../业余无线电Ham/业余无线电采购.html"><strong aria-hidden="true">1.7.6.</strong> 业余无线电采购</a></li><li class="chapter-item expanded "><a href="../../业余无线电Ham/附近航空频率.html"><strong aria-hidden="true">1.7.7.</strong> 附近航空频率</a></li><li class="chapter-item expanded "><a href="../../业余无线电Ham/广播/index.html"><strong aria-hidden="true">1.7.8.</strong> 广播</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../业余无线电Ham/广播/广播收听报告-2023.05.23.html"><strong aria-hidden="true">1.7.8.1.</strong> 广播收听报告-2023.05.23</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../test/index.html"><strong aria-hidden="true">1.8.</strong> test</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../test/落落-OpenWRT-导航页.html"><strong aria-hidden="true">1.8.1.</strong> 落落-OpenWRT-导航页</a></li><li class="chapter-item expanded "><a href="../../test/思源笔记自动同步测试.html"><strong aria-hidden="true">1.8.2.</strong> 思源笔记自动同步测试</a></li><li class="chapter-item expanded "><a href="../../test/Obsidian-Hexo-模板测试.html"><strong aria-hidden="true">1.8.3.</strong> Obsidian-Hexo-模板测试</a></li></ol></li><li class="chapter-item expanded "><a href="../../高中事件/index.html"><strong aria-hidden="true">1.9.</strong> 高中事件</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../高中事件/举报中小学教师违规方法论.html"><strong aria-hidden="true">1.9.1.</strong> 举报中小学教师违规方法论</a></li><li class="chapter-item expanded "><a href="../../高中事件/举报法律依据.html"><strong aria-hidden="true">1.9.2.</strong> 举报法律依据</a></li><li class="chapter-item expanded "><a href="../../高中事件/举报信.html"><strong aria-hidden="true">1.9.3.</strong> 举报信</a></li></ol></li><li class="chapter-item expanded "><a href="../../碎碎念/index.html"><strong aria-hidden="true">1.10.</strong> 碎碎念</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../碎碎念/freedom.html"><strong aria-hidden="true">1.10.1.</strong> freedom</a></li><li class="chapter-item expanded "><a href="../../碎碎念/猫猫.html"><strong aria-hidden="true">1.10.2.</strong> 猫猫</a></li><li class="chapter-item expanded "><a href="../../碎碎念/文案.html"><strong aria-hidden="true">1.10.3.</strong> 文案</a></li><li class="chapter-item expanded "><a href="../../碎碎念/奇思妙想.html"><strong aria-hidden="true">1.10.4.</strong> 奇思妙想</a></li><li class="chapter-item expanded "><a href="../../碎碎念/闲鱼文案模板.html"><strong aria-hidden="true">1.10.5.</strong> 闲鱼文案模板</a></li><li class="chapter-item expanded "><a href="../../碎碎念/记录.html"><strong aria-hidden="true">1.10.6.</strong> 记录</a></li><li class="chapter-item expanded "><a href="../../碎碎念/思源笔记本使用感想.html"><strong aria-hidden="true">1.10.7.</strong> 思源笔记本使用感想</a></li><li class="chapter-item expanded "><a href="../../碎碎念/知乎精选.html"><strong aria-hidden="true">1.10.8.</strong> 知乎精选</a></li><li class="chapter-item expanded "><a href="../../碎碎念/猫猫/index.html"><strong aria-hidden="true">1.10.9.</strong> 猫猫</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../碎碎念/猫猫/多多.html"><strong aria-hidden="true">1.10.9.1.</strong> 多多</a></li></ol></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">WhaleFall Obsidian Notes</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <hr />
<p>title: Linux 运维笔记(持续更新)
date: 2022-03-20 16:37:48
updated: 2022-03-20 16:37:48
categories: Linux
tags: [Linux]
description:
thumbnail: http://oss.whaleluo.top/blog/img/Linux-Operation-Note-Banner.png-picsmall
banner_img: http://oss.whaleluo.top/blog/img/Linux-Operation-Note-Banner.png-picsmall</p>
<hr />
<h1 id="linux-operation-note"><a class="header" href="#linux-operation-note">Linux Operation Note</a></h1>
<p>​<img src="http://oss.whaleluo.top/blog/img/Linux-Operation-Note-Banner.png-picsmall" alt="Banner" />​</p>
<h2 id="硬盘操作"><a class="header" href="#硬盘操作">硬盘操作</a></h2>
<h3 id="格式化硬盘为-etx4-格式"><a class="header" href="#格式化硬盘为-etx4-格式">格式化硬盘为 ETX4 格式</a></h3>
<pre><code class="language-shell">mkfs.ext4 /dev/*** #将硬盘格式化成 ext4 格式
</code></pre>
<h3 id="设置硬盘开机挂载"><a class="header" href="#设置硬盘开机挂载">设置硬盘开机挂载</a></h3>
<pre><code class="language-shell"># 1.通过 lsblk 命令获取磁盘分区，并挂载磁盘到mnts目录。
lsblk

# 2.通过 blkid 命令获取存储设备UUID
blkid /dev/sda

# 3.编辑 /etc/fstab 文件，在fstab最后添加存储设备信息，实现开机自动加载
vim /etc/fstab
UUID=cdfc0924-7703-40f4-b6ab-8ef3f9adbf06 /mnt/disk ext4 defaults 0 0

# 4.通过mount -a命令重新加载 /etc/fstab 内容
mount -a

# 常用查询硬盘命令
fdisk -l
df -h
</code></pre>
<h3 id="备份与目录迁移"><a class="header" href="#备份与目录迁移">备份与目录迁移</a></h3>
<h4 id="使用-targz"><a class="header" href="#使用-targz">使用 tar.gz</a></h4>
<p>备份打包：</p>
<pre><code class="language-shell">tar -czvf backup.tar.gz /path/to/directory
</code></pre>
<p>这将使用 <code>tar</code> 命令将指定目录打包成一个压缩文件 <code>backup.tar.gz</code>。你可以将 <code>/path/to/directory</code> 替换为要备份的目录路径。使用 <code>-c</code> 参数表示创建新的备份，<code>-z</code> 参数表示使用 gzip 压缩，<code>-v</code> 参数表示显示备份过程中的详细信息。</p>
<p>还原备份：</p>
<pre><code class="language-shell">tar -xzvf backup.tar.gz -C /path/to/destination
</code></pre>
<p>这将使用 <code>tar</code> 命令解压缩备份文件 <code>backup.tar.gz</code> 并将文件还原到目标目录 <code>/path/to/destination</code>。使用 <code>-x</code> 参数表示解压缩，<code>-z</code> 参数表示使用 gzip 解压缩，<code>-v</code> 参数表示显示还原过程中的详细信息，<code>-C</code> 参数指定还原到的目标目录。</p>
<h2 id="进程相关"><a class="header" href="#进程相关">进程相关</a></h2>
<h3 id="开机自启动某个脚本"><a class="header" href="#开机自启动某个脚本">开机自启动某个脚本</a></h3>
<pre><code class="language-shell"># 编辑 systemctl 文件
vim /etc/systemd/system/ttnode.service

# 文件内容
[Unit]
Description=Python Task Service
After=network.target

[Service]
Type=simple
User=root
Group=root
ExecStart=/usr/node/ttnode -p /mnt/disk/
Restart=always
RestartSec=2
PrivateTmp=true

[Install]
WantedBy=multi-user.target

# 重载
systemctl daemon-reload
# 启动
systemctl start ttnode
# 开机自启
systemctl enable ttnode
</code></pre>
<h2 id="网络相关"><a class="header" href="#网络相关">网络相关</a></h2>
<h3 id="openvpn"><a class="header" href="#openvpn">OpenVPN</a></h3>
<blockquote>
<p>参考：<a href="https://serverfault.com/questions/785767/with-openvpn-how-can-i-only-let-lan-go-through-the-vpn">窗口 - 使用OpenVPN，我如何只能让局域网通过VPN？- 服务器故障 (serverfault.com)</a> <strong>重要</strong></p>
<p><a href="https://www.cnblogs.com/lsgxeva/p/11378768.html">ROUTE: route addition failed - lsgxeva - 博客园 (cnblogs.com)</a></p>
<p><a href="https://superuser.com/questions/1608345/how-to-route-only-subnet-in-openvpn-and-not-internet-traffic">networking - How to route only subnet in OpenVPN and not internet traffic - Super User</a></p>
</blockquote>
<p>安装脚本:<a href="https://github.com/Nyr/openvpn-install">Nyr/openvpn-install</a></p>
<p>服务端：<code>server.conf</code></p>
<pre><code class="language-ini">server 192.168.255.0 255.255.255.0
verb 3
key /etc/openvpn/pki/private/0.0.0.0.key
ca /etc/openvpn/pki/ca.crt
cert /etc/openvpn/pki/issued/0.0.0.0.crt
dh /etc/openvpn/pki/dh.pem
tls-auth /etc/openvpn/pki/ta.key
key-direction 0
keepalive 10 60
persist-key
persist-tun

proto tcp
# Rely on Docker to do port mapping, internally always 1194
port 1194
dev tun0
status /tmp/openvpn-status.log

user nobody
group nogroup
comp-lzo no

### Route Configurations Below
route 192.168.254.0 225.225.225.0

### Push Configurations Below
</code></pre>
<p>客户端：<code>client.conf</code></p>
<pre><code class="language-ini">client
nobind
dev tun
remote-cert-tls server
remote tx.cyidz.xyz 11194 tcp

&lt;key&gt;
-----BEGIN PRIVATE KEY-----
....
-----END CERTIFICATE-----
&lt;/ca&gt;
key-direction 1
&lt;tls-auth&gt;
#
# 2048 bit OpenVPN static key
#
-----BEGIN OpenVPN Static key V1-----
....
-----END OpenVPN Static key V1-----
&lt;/tls-auth&gt;

# redirect-gateway def1  # 注释掉
dhcp-option DNS 114.114.114.114 # 自定义DNS
route 192.168.1.0 255.255.255.0  # 添加路由
route 192.168.0.0 255.255.255.0
</code></pre>
<h3 id="frp"><a class="header" href="#frp">FRP</a></h3>
<h4 id="服务端配置"><a class="header" href="#服务端配置">服务端配置</a></h4>
<p>frps.ini</p>
<pre><code class="language-ini">[common]
bind_addr = 0.0.0.0
bind_port = 57700
bind_udp_port= 57711

token = lovehyy

dashboard_port = 57710
dashboard_user = admin
dashboard_pwd = lovehyy

max_pool_count = 9999
max_ports_per_client = 0

tls_only = true
allow_ports = 57700-57800
</code></pre>
<h4 id="客户端"><a class="header" href="#客户端">客户端</a></h4>
<p>frpc.ini</p>
<pre><code class="language-ini">[common]
server_addr = vps.lskyl.xyz
server_port = 57700
token = lovehyy
user = dlgz-nas
login_fail_exit = false
protocol = tcp
tcp_mux = true
dns_server = 223.5.5.5
tls_enable = true

[ssh]
type = tcp
local_ip = 127.0.0.1
local_port = 22
remote_port = 57722
use_encryption = false
use_compression = true
</code></pre>
<h2 id="shell-相关"><a class="header" href="#shell-相关">Shell 相关</a></h2>
<h3 id="ssh-链接超时设置"><a class="header" href="#ssh-链接超时设置">SSH 链接超时设置</a></h3>
<p>修改 server 端的 <code>/etc/ssh/sshd_config</code></p>
<pre><code class="language-shell"># server每隔60秒发送一次请求给client，然后client响应，从而保持连接
ClientAliveInterval 60 

# server发出请求后，客户端没有响应得次数达到3，就自动断开连接，正常情况下，client不会不响应
ClientAliveCountMax 3 
</code></pre>
<h3 id="ssh-配置密钥登陆"><a class="header" href="#ssh-配置密钥登陆">SSH 配置密钥登陆</a></h3>
<p>客户端运行</p>
<pre><code class="language-shell"># WAY1
ssh-copy-id username@remote_host

# WAY2
mkdir -p ~/.ssh
cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys

# WAY3
scp ./file root@192.168.1.1:/path_on_host/
</code></pre>
<p>编辑 /etc/ssh/sshd_config 文件，进行如下设置：</p>
<pre><code class="language-shell">RSAAuthentication yes
PubkeyAuthentication yes
</code></pre>
<p>重启 ssh 服务：</p>
<pre><code class="language-shell">service sshd restart
</code></pre>
<h3 id="zsh-终端美化"><a class="header" href="#zsh-终端美化">ZSH 终端美化</a></h3>
<p>安装</p>
<pre><code class="language-shell">cd ~
sudo apt-get install git zsh wget
sh -c &quot;$(wget -O- https://gitee.com/mirrors/oh-my-zsh/raw/master/tools/install.sh)&quot;

# 从马云安装
export REMOTE=https://gitee.com/mirrors/oh-my-zsh.git 
sh -c &quot;$(curl -fsSL https://gitee.com/mirrors/oh-my-zsh/raw/master/tools/install.sh)&quot;

# 原Github安装
sh -c &quot;$(wget -O- https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;

# 解决 OpenWRT git 异常
opkg update  
opkg remove git  
opkg install git-http  
opkg install ca-bundle

# 解决收手机字体问题
sudo apt-get install fonts-powerline

# 安装插件
cd ~/.oh-my-zsh/plugins
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git
git clone https://github.com/zsh-users/zsh-autosuggestions.git

# 编辑配置
vim ~/.zshrc
ZSH_THEME=&quot;agnoster&quot; or &quot;ys&quot;
plugins=(git zsh-syntax-highlighting zsh-autosuggestions sudo)

# 刷新
source ~/.zshrc

# 设置 ZSH 为默认 shell
cat /etc/shells
chsh -s /bin/zsh

# OpenWRT 设置 ZSH 为默认 shell
which zsh &amp;&amp; sed -i -- 's:/bin/ash:'`which zsh`':g' /etc/passwd
</code></pre>
<h2 id="docker"><a class="header" href="#docker">Docker</a></h2>
<h3 id="安装"><a class="header" href="#安装">安装</a></h3>
<p>国内加速: <a href="https://get.daocloud.io/">https://get.daocloud.io/</a></p>
<h3 id="image-各种镜像"><a class="header" href="#image-各种镜像">Image 各种镜像</a></h3>
<h4 id="portainer-管理-ui"><a class="header" href="#portainer-管理-ui">Portainer 管理 UI</a></h4>
<pre><code class="language-shell">docker run -d -p 9000:9000 \
--name portainer \
--restart=always \
-v /var/run/docker.sock:/var/run/docker.sock \
portainer/portainer:latest
</code></pre>
<h4 id="frps-服务端"><a class="header" href="#frps-服务端">Frps 服务端</a></h4>
<pre><code class="language-shell">docker run --restart=always --network host -d \
-v /etc/frp/frps.ini:/etc/frp/frps.ini \
--name frps snowdreamtech/frps
</code></pre>
<p>frps.ini</p>
<pre><code class="language-ini">[common]
bind_addr = 0.0.0.0
bind_port = 37700
bind_udp_port = 37711

token = lovecyx

dashboard_port = 37710
dashboard_user = admin
dashboard_pwd = lovehyy

max_pool_count = 9999
max_ports_per_client = 0

tls_only = true
allow_ports = 30000-50000
</code></pre>
<h4 id="frpc-客户端"><a class="header" href="#frpc-客户端">Frpc 客户端</a></h4>
<p><a href="https://www.itcoder.tech/posts/docker-frp/">docker frpc 中文文档</a></p>
<pre><code class="language-shell">docker run --network host -d \
-v /root/frpc/frpc.ini:/etc/frp/frpc.ini \
--name frpc \
--restart=always \
snowdreamtech/frpc
</code></pre>
<h4 id="到服务器的网速测试"><a class="header" href="#到服务器的网速测试">到服务器的网速测试</a></h4>
<pre><code class="language-shell">sudo docker run --restart=unless-stopped \
--name openspeedtest \
-d -p 3000:3000 \
-p 3001:3001 openspeedtest/latest
</code></pre>
<h4 id="filebrowser-文件管理"><a class="header" href="#filebrowser-文件管理">FileBrowser 文件管理</a></h4>
<p><a href="https://filebrowser.org/installation">https://filebrowser.org/installation</a></p>
<pre><code class="language-sh">docker run \
    -v /mnt/:/srv \
    -v /root/filebrowser.db:/database.db \
    -v /path/.filebrowser.json:/.filebrowser.json \
    -u $(id -u):$(id -g) \
    -p 8080:80 \
    filebrowser/filebrowser
</code></pre>
<h4 id="nfs-文件共享"><a class="header" href="#nfs-文件共享">NFS 文件共享</a></h4>
<blockquote>
<p><strong>NFS</strong>，是 <strong>Network File System</strong> 的简写，即网络文件系统。网络文件系统是 FreeBSD 支持的文件系统中的一种，也被称为 NFS. NFS 允许一个系统在网络上与他人共享目录和文件。 通过使用 NFS，用户和程序可以像访问本地文件一样访问远端系统上的文件。</p>
</blockquote>
<p>docker hub：<a href="https://hub.docker.com/r/erichough/nfs-server/">https://hub.docker.com/r/erichough/nfs-server/</a></p>
<pre><code class="language-shell">docker pull erichough/nfs-server
docker run                                            \
  -v /root/:/file/  \
  -e NFS_EXPORT_0='/file *(rw,no_subtree_check,async)'        \
  -e NFS_SERVER_THREAD_COUNT=4 \
  --privileged                               \
  --network host \
  --name=nfs-server \
  erichough/nfs-server
</code></pre>
<blockquote>
<p>在 UNIX 和类 UNIX 系统中，/etc/exports 是一个配置文件，用于指定可以通过 NFS 共享的文件系统和相关参数。该文件定义了服务器上可供客户端挂载的共享目录以及访问权限。以下是/etc/exports 文件的一般格式和作用：</p>
<p>每一行代表一个共享目录的定义，具有以下基本格式：</p>
<pre><code>&lt;目录路径&gt; &lt;允许访问的客户端&gt;(选项)
</code></pre>
<ul>
<li>
<p>​<code>&lt;目录路径&gt;</code>​：指定要共享的目录的路径。可以是绝对路径或相对路径。</p>
</li>
<li>
<p>​<code>&lt;允许访问的客户端&gt;</code>​：指定被允许访问该共享目录的客户端。可以使用 IP 地址、域名或子网掩码来指定。也可以使用通配符进行模式匹配，如 <code>*</code>​表示允许所有客户端访问。</p>
</li>
<li>
<p>​<code>(选项)</code>​：可选项，用于指定共享选项。常用的选项包括：</p>
<ul>
<li>​<code>rw</code>​：允许读写访问权限。</li>
<li>​<code>ro</code>​：只允许读取访问权限。</li>
<li>​<code>noaccess</code>​：禁止访问该共享目录。</li>
<li>​<code>root_squash</code>​：将客户端的 root 用户映射为匿名用户（通常是 nfsnobody），以增加安全性。</li>
<li>​<code>all_squash</code>​：将所有用户映射为匿名用户，用于增加安全性。</li>
<li>​<code>async</code>​：异步写入，提高性能但降低可靠性。</li>
<li>​<code>sync</code>​：同步写入，确保数据的可靠性但性能较低。</li>
<li>​<code>insecure</code>​：允许不安全的访问请求，如非特权端口。</li>
<li>​<code>no_subtree_check</code>​：不进行子树检查。</li>
</ul>
</li>
</ul>
<p>/etc/exports 文件的作用是定义 NFS 共享的配置信息，以便服务器将指定的目录和选项提供给客户端进行挂载和访问。每当修改 /etc/exports 文件后，需要使用 <code>exportfs</code>​命令重新加载 NFS 服务器的配置，以使更改生效。</p>
</blockquote>
<p>仅通过 NFSv4 连接，则只需使用 TCP 端口 <code>2049</code>​</p>
<p>performance-tuning：<a href="https://github.com/ehough/docker-nfs-server/blob/develop/doc/advanced/performance-tuning.md">https://github.com/ehough/docker-nfs-server/blob/develop/doc/advanced/performance-tuning.md</a></p>
<p>Set the **<code>NFS_SERVER_THREAD_COUNT</code>**​ environment variable to control how many server threads <code>rpc.nfsd</code>​ will use. A good minimum is one thread per CPU core, but 4 or 8 threads per core is probably better. The default is one thread per CPU core.</p>
<p>Running the container with <code>--network host</code>​ <em>might</em> improve network performance by 10% - 20% on a heavily-loaded server [<a href="https://jtway.co/docker-network-performance-b95bce32b4b9">1</a>,<a href="https://www.percona.com/blog/2016/08/03/testing-docker-multi-host-network-performance/">2</a>], <strong>though this hasn't been tested.</strong></p>
<p>查看 CPU 内核数：<code>cat /proc/cpuinfo| grep &quot;cpu cores&quot;| uniq</code>​</p>
<p>问题：the problem is in the docker-machine. If you want to use nfs mounts you need to run modprobe nfs in the machine itself, not in container. Container uses kernel of the machine. Same with modprobe nfs and nfs server.问题出在码头工人机器上。如果你想使用 nfs 挂载，你需要在机器本身而不是容器中运行 modprobe nfs。容器使用机器的内核。与 modprobe nfs 和 nfs 服务器相同。</p>
<p>在 Windows 上配置 NFS 客户端： <a href="https://cloud.tencent.com/developer/article/1840455">https://cloud.tencent.com/developer/article/1840455</a></p>
<h2 id="nginx"><a class="header" href="#nginx">Nginx</a></h2>
<p>docker running</p>
<pre><code class="language-sh">docker run -d -p 8080:8080 \
--name nginx-proxy \
--restart=always \
-v /root/nginx/conf/nginx.conf:/etc/nginx/nginx.conf \
-v /root/nginx/www:/usr/share/nginx/html \
-v /root/nginx/cert:/usr/local/nginx/cert \
nginx:latest
</code></pre>
<h3 id="调优-performance-tuning"><a class="header" href="#调优-performance-tuning">调优 Performance Tuning</a></h3>
<p>在 server 字段下添加</p>
<pre><code class="language-nginx">client_max_body_size 5G;
client_header_timeout 1m;
client_body_timeout 1m;
proxy_connect_timeout 60s;
proxy_read_timeout 1m;
proxy_send_timeout 1m;      
</code></pre>
<h3 id="反向代理"><a class="header" href="#反向代理">反向代理</a></h3>
<pre><code class="language-nginx">user  nginx;
worker_processes  auto;

error_log  /var/log/nginx/error.log notice;
pid        /var/run/nginx.pid;


events {
    worker_connections  1024;
}


http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

    log_format  main  '$remote_addr - $remote_user [$time_local] &quot;$request&quot; '
                      '$status $body_bytes_sent &quot;$http_referer&quot; '
                      '&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;';

    access_log  /var/log/nginx/access.log  main;

    sendfile        on;
    #tcp_nopush     on;

    keepalive_timeout  65;

    gzip on;

    # include /etc/nginx/conf.d/*.conf;
        server {
        listen 80;
        server_name _;

        # location / {
        #     root   /usr/share/nginx/html;
        #     index  index.html index.htm;
        # }

        location / {
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header Host $http_host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header Range $http_range;
            proxy_set_header If-Range $http_if_range;
            proxy_redirect off;
            proxy_pass http://172.17.0.1:5244/;
            # the max size of file to upload
            client_max_body_size 20000m;
        }
    }

}
</code></pre>
<p>反向代理 ws. <a href="http://nginx.org/en/docs/http/websocket.html">nginx docs</a></p>
<pre><code class="language-nginx">location /chat/ {
    proxy_pass http://backend;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection &quot;upgrade&quot;;
}
</code></pre>
<p>解决 WS 反向代理超时问题, 在 server 字段下添加</p>
<pre><code class="language-nginx">proxy_connect_timeout 60s;
proxy_read_timeout 60m;
proxy_send_timeout 60m; 
</code></pre>
<p>自动添加 <code>/</code>​ 在 server 字段下添加:</p>
<pre><code class="language-nginx">server_name_in_redirect off;
</code></pre>
<p><strong>完整支持 WS 的反向代理模板：</strong></p>
<pre><code class="language-nginx">location /note/ {
     proxy_pass http://192.168.8.1:6806/;
     proxy_set_header X-Real-IP $remote_addr;
     proxy_set_header x-wiz-real-ip $remote_addr;
     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
     proxy_set_header X-Forwarded-Proto $scheme;
     proxy_set_header X-NginX-Proxy true;

     proxy_http_version 1.1;
     proxy_set_header Upgrade $http_upgrade;
     proxy_set_header Connection &quot;upgrade&quot;;
     proxy_set_header Connection &quot;keep-alive&quot;;

     proxy_set_header Host $http_host;
     proxy_ssl_session_reuse off;
     proxy_cache_bypass $http_upgrade;
     proxy_redirect off;
 }
</code></pre>
<h3 id="添加证书"><a class="header" href="#添加证书">添加证书</a></h3>
<h4 id="使用-acmesh-申请证书"><a class="header" href="#使用-acmesh-申请证书">使用 acme.sh 申请证书</a></h4>
<pre><code class="language-shell"># 配置 Docker 为 daemon
docker run -d \
-v /root/acme/:/acme.sh \
-e &quot;CF_Key=e1c57d011aae471eaca549607a2f74154cbe5&quot; \
-e &quot;CF_Email=whalefall9420@outlook.com&quot; \
--restart=always \
--name=acme.sh \
--net=host \
neilpang/acme.sh daemon

# 进入 docker shell
docker exec -it acme.sh sh

# 设置自动更新
docker exec acme.sh --upgrade --auto-upgrade 

# 使用 letsencrypt 签发证书
docker exec acme.sh --set-default-ca --server letsencrypt --issue --dns dns_cf -d *.whaleluo.top -d www.whaleluo.top

# 导出 nginx 使用的证书
docker exec acme.sh --install-cert -d whaleluo.top --key-file /acme.sh/private.key --fullchain-file /acme.sh/cert.pem

# 导出 uhttpd 使用的证书
acme.sh --install-cert -d *.whaleluo.top \
--cert-file      /acme.sh/uhttpd.crt  \
--key-file       /acme.sh/uhttpd.key  \

# 容器会自动更新 crantab 每天0点检查证书 `crontab -l`
/acme.sh # acme.sh --cron --home &quot;/root/.acme.sh&quot; --config-home &quot;/acme.sh&quot;
[Wed Jul 19 02:31:31 UTC 2023] ===Starting cron===
[Wed Jul 19 02:31:31 UTC 2023] Already uptodate!
[Wed Jul 19 02:31:31 UTC 2023] Upgrade success!
[Wed Jul 19 02:31:31 UTC 2023] Auto upgraded to: 3.0.6
[Wed Jul 19 02:31:32 UTC 2023] Renew: '*.whaleluo.top'
[Wed Jul 19 02:31:32 UTC 2023] Renew to Le_API=https://acme-v02.api.letsencrypt.org/directory
[Wed Jul 19 02:31:32 UTC 2023] Skip, Next renewal time is: 2023-09-14T17:18:24Z
[Wed Jul 19 02:31:32 UTC 2023] Add '--force' to force to renew.
[Wed Jul 19 02:31:32 UTC 2023] Skipped *.whaleluo.top_ecc
[Wed Jul 19 02:31:32 UTC 2023] ===End cron===

</code></pre>
<h4 id="nginx-配置"><a class="header" href="#nginx-配置">Nginx 配置</a></h4>
<pre><code class="language-nginx">user  nginx;
worker_processes  auto;
error_log  /var/log/nginx/error.log notice;
pid        /var/run/nginx.pid;
events {
    worker_connections  1024;
}
http {
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

    log_format  main  '$remote_addr - $remote_user [$time_local] &quot;$request&quot; '
                      '$status $body_bytes_sent &quot;$http_referer&quot; '
                      '&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;';

    access_log  /var/log/nginx/access.log  main;
    sendfile        on;
    keepalive_timeout  65;
    gzip on;

    server {
        listen 80 ssl http2;
        server_name _;

        ssl                      on;
        ssl_certificate     /usr/local/nginx/cert/cert.pem;
        ssl_certificate_key  /usr/local/nginx/cert/private.key;
      
        ssl_session_timeout  5m;
        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
        ssl_prefer_server_ciphers on;

        error_page 497 https://$host:8080$uris;
      
        if ($scheme = http) {
            return 301 https://$host$request_uri;
        }


        location / {
                root   /usr/share/nginx/html;
                index  index.html index.htm;
        }

    }
}
</code></pre>
<h3 id="跨域"><a class="header" href="#跨域">跨域</a></h3>
<pre><code class="language-nginx">add_header Access-Control-Allow-Origin *;
add_header Access-Control-Allow-Methods GET,POST,OPTIONS;
add_header Access-Control-Allow-Headers Content-Type,Authorization;
</code></pre>
<h3 id="自用完整的-nginxconf"><a class="header" href="#自用完整的-nginxconf">自用完整的 nginx.conf</a></h3>
<p>nginx file format： <a href="https://nginxbeautifier.github.io/" title="在线整理 nginx 配置文件">https://nginxbeautifier.github.io/</a></p>
<p>github repo: <a href="https://github.com/nginxbeautifier/nginxbeautifier.github.io">https://github.com/nginxbeautifier/nginxbeautifier.github.io</a></p>
<pre><code class="language-nginx">user nginx;
worker_processes auto;
error_log /var/log/nginx/error.log notice;
pid /var/run/nginx.pid;
events {

	worker_connections 1024;
}
http {

	include /etc/nginx/mime.types;
	default_type application/octet-stream;

	log_format main '$remote_addr - $remote_user [$time_local] &quot;$request&quot; '
	'$status $body_bytes_sent &quot;$http_referer&quot; '
	'&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;';

	access_log /var/log/nginx/access.log main;
	sendfile on;
	keepalive_timeout 65;
	gzip on;

	server {

		listen 8080 ssl http2;
		server_name _;

		# ssl off;
		ssl_certificate /usr/local/nginx/cert/cert.pem;
		ssl_certificate_key /usr/local/nginx/cert/private.key;

		ssl_session_timeout 5m;
		ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;
		ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
		ssl_prefer_server_ciphers on;

		error_page 497 https://$host:8080$request_uri;

		client_max_body_size 5G;
		client_header_timeout 1m;
		client_body_timeout 1m;
		proxy_connect_timeout 60s;
		proxy_read_timeout 60m;
		proxy_send_timeout 60m;


		location /main {

			alias /usr/share/nginx/html;
			index index.html;
		}

		location / {

			proxy_pass http://192.168.8.1:6806/;
			proxy_set_header X-Real-IP $remote_addr;
			proxy_set_header x-wiz-real-ip $remote_addr;
			proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
			proxy_set_header X-Forwarded-Proto $scheme;
			proxy_set_header X-NginX-Proxy true;

			proxy_http_version 1.1;
			proxy_set_header Upgrade $http_upgrade;
			proxy_set_header Connection &quot;upgrade&quot;;
			proxy_set_header Connection &quot;keep-alive&quot;;

			proxy_set_header Host $http_host;
			proxy_ssl_session_reuse off;
			proxy_cache_bypass $http_upgrade;
			proxy_redirect off;
		}

		location /sdr/ {

			proxy_pass http://192.168.8.1:8073/;
			proxy_set_header X-Real-IP $remote_addr;
			proxy_set_header x-wiz-real-ip $remote_addr;
			proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
			proxy_set_header X-Forwarded-Proto $scheme;
			proxy_set_header X-NginX-Proxy true;

			proxy_http_version 1.1;
			proxy_set_header Upgrade $http_upgrade;
			proxy_set_header Connection &quot;upgrade&quot;;
			proxy_set_header Connection &quot;keep-alive&quot;;

			proxy_set_header Host $http_host;
			proxy_ssl_session_reuse off;
			proxy_cache_bypass $http_upgrade;
			proxy_redirect off;
		}

		location /wss/ {

			proxy_pass http://192.168.8.1:10000/wss/;
			proxy_set_header X-Real-IP $remote_addr;
			proxy_set_header x-wiz-real-ip $remote_addr;
			proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
			proxy_set_header X-Forwarded-Proto $scheme;
			proxy_set_header X-NginX-Proxy true;

			proxy_http_version 1.1;
			proxy_set_header Upgrade $http_upgrade;
			proxy_set_header Connection &quot;upgrade&quot;;
			proxy_set_header Connection &quot;keep-alive&quot;;

			proxy_set_header Host $http_host;
			proxy_ssl_session_reuse off;
			proxy_cache_bypass $http_upgrade;
			proxy_redirect off;
		}

		location /dav/ {

			proxy_pass http://192.168.8.1:5244/dav/;
			proxy_set_header X-Real-IP $remote_addr;
			proxy_set_header x-wiz-real-ip $remote_addr;
			proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
			proxy_set_header X-Forwarded-Proto $scheme;
			proxy_set_header X-NginX-Proxy true;

			proxy_http_version 1.1;
			proxy_set_header Upgrade $http_upgrade;
			proxy_set_header Connection &quot;upgrade&quot;;
			proxy_set_header Connection &quot;keep-alive&quot;;

			proxy_set_header Host $http_host;
			proxy_ssl_session_reuse off;
			proxy_cache_bypass $http_upgrade;
			proxy_redirect off;
		}

		location /test/ {

			proxy_pass http://192.168.8.1:8989/;
			proxy_set_header X-Real-IP $remote_addr;
			proxy_set_header x-wiz-real-ip $remote_addr;
			proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
			proxy_set_header X-Forwarded-Proto $scheme;
			proxy_set_header X-NginX-Proxy true;

			proxy_http_version 1.1;
			proxy_set_header Upgrade $http_upgrade;
			proxy_set_header Connection &quot;upgrade&quot;;
			proxy_set_header Connection &quot;keep-alive&quot;;

			proxy_set_header Host $http_host;
			proxy_ssl_session_reuse off;
			proxy_cache_bypass $http_upgrade;
			proxy_redirect off;
		}
		location /note/ {

			proxy_pass http://192.168.8.1:6806/;
			proxy_set_header X-Real-IP $remote_addr;
			proxy_set_header x-wiz-real-ip $remote_addr;
			proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
			proxy_set_header X-Forwarded-Proto $scheme;
			proxy_set_header X-NginX-Proxy true;

			proxy_http_version 1.1;
			proxy_set_header Upgrade $http_upgrade;
			proxy_set_header Connection &quot;upgrade&quot;;
			proxy_set_header Connection &quot;keep-alive&quot;;

			proxy_set_header Host $http_host;
			proxy_ssl_session_reuse off;
			proxy_cache_bypass $http_upgrade;
			proxy_redirect off;
		}
		location /status/ {

			proxy_pass http://192.168.8.1:19999/;
			proxy_set_header X-Real-IP $remote_addr;
			proxy_set_header x-wiz-real-ip $remote_addr;
			proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
			proxy_set_header X-Forwarded-Proto $scheme;
			proxy_set_header X-NginX-Proxy true;

			proxy_http_version 1.1;
			proxy_set_header Upgrade $http_upgrade;
			proxy_set_header Connection &quot;upgrade&quot;;
			proxy_set_header Connection &quot;keep-alive&quot;;

			proxy_set_header Host $http_host;
			proxy_ssl_session_reuse off;
			proxy_cache_bypass $http_upgrade;
			proxy_redirect off;
		}

	}
}
</code></pre>
<h2 id="openwrt"><a class="header" href="#openwrt">OpenWRT</a></h2>
<p>x86 官方源</p>
<pre><code class="language-shell">src/gz openwrt_core http://downloads.openwrt.org/releases/21.02.0/targets/x86/64/packages  
src/gz openwrt_base https://downloads.openwrt.org/snapshots/packages/x86_64/base  
src/gz openwrt_luci    https://downloads.openwrt.org/snapshots/packages/x86_64/luci  
src/gz openwrt_packages https://downloads.openwrt.org/snapshots/packages/x86_64/packages  
src/gz openwrt_routing https://mirrors.cloud.tencent.com/lede/snapshots/packages/x86_64/routing  
src/gz openwrt_telephony https://mirrors.cloud.tencent.com/lede/snapshots/packages/x86_64/telephony
</code></pre>
<h2 id="引用-reference"><a class="header" href="#引用-reference">引用 Reference</a></h2>
<blockquote>
<p>感谢以下博客的作者和教程网站，如有侵权请及时联系博主删除。</p>
</blockquote>
<ol>
<li>Golang 和 Linux 学习笔记合集 <a href="https://www.huweihuang.com/">https://www.huweihuang.com/</a></li>
</ol>
<p>‍</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../博客文章/_post/Study.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../博客文章/_post/Kali-Linux-Help.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../博客文章/_post/Study.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../博客文章/_post/Kali-Linux-Help.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
