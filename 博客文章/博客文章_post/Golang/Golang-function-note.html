<!DOCTYPE HTML>
<html lang="cn" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Golang-function-note - WhaleFall Obsidian Notes</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="Keep Notes everyday">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../../favicon.svg">
        <link rel="shortcut icon" href="../../../favicon.png">
        <link rel="stylesheet" href="../../../css/variables.css">
        <link rel="stylesheet" href="../../../css/general.css">
        <link rel="stylesheet" href="../../../css/chrome.css">
        <link rel="stylesheet" href="../../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../highlight.css">
        <link rel="stylesheet" href="../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../../index.html"><strong aria-hidden="true">1.</strong> 落落的Notes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../SUMMARY.html"><strong aria-hidden="true">1.1.</strong> SUMMARY</a></li><li class="chapter-item expanded "><a href="../../../高中事件/index.html"><strong aria-hidden="true">1.2.</strong> 高中事件</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../高中事件/举报中小学教师违规方法论.html"><strong aria-hidden="true">1.2.1.</strong> 举报中小学教师违规方法论</a></li><li class="chapter-item expanded "><a href="../../../高中事件/举报法律依据.html"><strong aria-hidden="true">1.2.2.</strong> 举报法律依据</a></li><li class="chapter-item expanded "><a href="../../../高中事件/举报信.html"><strong aria-hidden="true">1.2.3.</strong> 举报信</a></li></ol></li><li class="chapter-item expanded "><a href="../../../CutBoard/index.html"><strong aria-hidden="true">1.3.</strong> CutBoard</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../CutBoard/无线电爬取脚本.html"><strong aria-hidden="true">1.3.1.</strong> 无线电爬取脚本</a></li></ol></li><li class="chapter-item expanded "><a href="../../../业余无线电Ham/index.html"><strong aria-hidden="true">1.4.</strong> 业余无线电Ham</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../业余无线电Ham/业余无线电笔记.html"><strong aria-hidden="true">1.4.1.</strong> 业余无线电笔记</a></li><li class="chapter-item expanded "><a href="../../../业余无线电Ham/OpenGD77_User_Guide_CN.html"><strong aria-hidden="true">1.4.2.</strong> OpenGD77_User_Guide_CN</a></li><li class="chapter-item expanded "><a href="../../../业余无线电Ham/Opengd77-Firmware-教程.html"><strong aria-hidden="true">1.4.3.</strong> Opengd77-Firmware-教程</a></li><li class="chapter-item expanded "><a href="../../../业余无线电Ham/泉盛-K5-音质优化.html"><strong aria-hidden="true">1.4.4.</strong> 泉盛-K5-音质优化</a></li><li class="chapter-item expanded "><a href="../../../业余无线电Ham/通联日志.html"><strong aria-hidden="true">1.4.5.</strong> 通联日志</a></li><li class="chapter-item expanded "><a href="../../../业余无线电Ham/广播.html"><strong aria-hidden="true">1.4.6.</strong> 广播</a></li><li class="chapter-item expanded "><a href="../../../业余无线电Ham/业余无线电采购.html"><strong aria-hidden="true">1.4.7.</strong> 业余无线电采购</a></li><li class="chapter-item expanded "><a href="../../../业余无线电Ham/广播/index.html"><strong aria-hidden="true">1.4.8.</strong> 广播</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../业余无线电Ham/广播/广播收听报告-2023.05.23.html"><strong aria-hidden="true">1.4.8.1.</strong> 广播收听报告-2023.05.23</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../碎碎念/index.html"><strong aria-hidden="true">1.5.</strong> 碎碎念</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../碎碎念/文案.html"><strong aria-hidden="true">1.5.1.</strong> 文案</a></li><li class="chapter-item expanded "><a href="../../../碎碎念/猫猫.html"><strong aria-hidden="true">1.5.2.</strong> 猫猫</a></li><li class="chapter-item expanded "><a href="../../../碎碎念/freedom.html"><strong aria-hidden="true">1.5.3.</strong> freedom</a></li><li class="chapter-item expanded "><a href="../../../碎碎念/知乎精选.html"><strong aria-hidden="true">1.5.4.</strong> 知乎精选</a></li><li class="chapter-item expanded "><a href="../../../碎碎念/闲鱼文案模板.html"><strong aria-hidden="true">1.5.5.</strong> 闲鱼文案模板</a></li><li class="chapter-item expanded "><a href="../../../碎碎念/思源笔记本使用感想.html"><strong aria-hidden="true">1.5.6.</strong> 思源笔记本使用感想</a></li><li class="chapter-item expanded "><a href="../../../碎碎念/记录.html"><strong aria-hidden="true">1.5.7.</strong> 记录</a></li><li class="chapter-item expanded "><a href="../../../碎碎念/奇思妙想.html"><strong aria-hidden="true">1.5.8.</strong> 奇思妙想</a></li><li class="chapter-item expanded "><a href="../../../碎碎念/猫猫/index.html"><strong aria-hidden="true">1.5.9.</strong> 猫猫</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../碎碎念/猫猫/多多.html"><strong aria-hidden="true">1.5.9.1.</strong> 多多</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../../English-Study/index.html"><strong aria-hidden="true">1.6.</strong> English-Study</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../English-Study/英语音标学习.html"><strong aria-hidden="true">1.6.1.</strong> 英语音标学习</a></li></ol></li><li class="chapter-item expanded "><a href="../../../test/index.html"><strong aria-hidden="true">1.7.</strong> test</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../test/思源笔记自动同步测试.html"><strong aria-hidden="true">1.7.1.</strong> 思源笔记自动同步测试</a></li><li class="chapter-item expanded "><a href="../../../test/落落-OpenWRT-导航页.html"><strong aria-hidden="true">1.7.2.</strong> 落落-OpenWRT-导航页</a></li><li class="chapter-item expanded "><a href="../../../test/Obsidian-Hexo-模板测试.html"><strong aria-hidden="true">1.7.3.</strong> Obsidian-Hexo-模板测试</a></li></ol></li><li class="chapter-item expanded "><a href="../../../other/index.html"><strong aria-hidden="true">1.8.</strong> other</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../other/OPENAI-KEY.html"><strong aria-hidden="true">1.8.1.</strong> OPENAI-KEY</a></li><li class="chapter-item expanded "><a href="../../../other/未命名.html"><strong aria-hidden="true">1.8.2.</strong> 未命名</a></li><li class="chapter-item expanded "><a href="../../../other/模拟飞行.html"><strong aria-hidden="true">1.8.3.</strong> 模拟飞行</a></li><li class="chapter-item expanded "><a href="../../../other/写给v友的一段话.html"><strong aria-hidden="true">1.8.4.</strong> 写给v友的一段话</a></li></ol></li><li class="chapter-item expanded "><a href="../../../博客文章/index.html"><strong aria-hidden="true">1.9.</strong> 博客文章</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../博客文章/博客文章测试.html"><strong aria-hidden="true">1.9.1.</strong> 博客文章测试</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post.html"><strong aria-hidden="true">1.9.2.</strong> 博客文章_post</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/index.html"><strong aria-hidden="true">1.9.3.</strong> 博客文章_post</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Rpi-2.html"><strong aria-hidden="true">1.9.3.1.</strong> Rpi-2</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Freedom-network.html"><strong aria-hidden="true">1.9.3.2.</strong> Freedom-network</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang.html"><strong aria-hidden="true">1.9.3.3.</strong> Golang</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/onedrive-guide.html"><strong aria-hidden="true">1.9.3.4.</strong> onedrive-guide</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Python.html"><strong aria-hidden="true">1.9.3.5.</strong> Python</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Github-workflow.html"><strong aria-hidden="true">1.9.3.6.</strong> Github-workflow</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Samba4-config.html"><strong aria-hidden="true">1.9.3.7.</strong> Samba4-config</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Rpi-3.html"><strong aria-hidden="true">1.9.3.8.</strong> Rpi-3</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Depression-medicine.html"><strong aria-hidden="true">1.9.3.9.</strong> Depression-medicine</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Vim-config.html"><strong aria-hidden="true">1.9.3.10.</strong> Vim-config</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Linux-note.html"><strong aria-hidden="true">1.9.3.11.</strong> Linux-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Hexo-blog-format.html"><strong aria-hidden="true">1.9.3.12.</strong> Hexo-blog-format</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/openwebrx-sdr.html"><strong aria-hidden="true">1.9.3.13.</strong> openwebrx-sdr</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Linux-iptables.html"><strong aria-hidden="true">1.9.3.14.</strong> Linux-iptables</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Kali-Linux-Help.html"><strong aria-hidden="true">1.9.3.15.</strong> Kali-Linux-Help</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Study.html"><strong aria-hidden="true">1.9.3.16.</strong> Study</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/radio-SWshort.html"><strong aria-hidden="true">1.9.3.17.</strong> radio-SWshort</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Server-all.html"><strong aria-hidden="true">1.9.3.18.</strong> Server-all</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Wky-help.html"><strong aria-hidden="true">1.9.3.19.</strong> Wky-help</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Rpi-1.html"><strong aria-hidden="true">1.9.3.20.</strong> Rpi-1</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Study/index.html"><strong aria-hidden="true">1.9.3.21.</strong> Study</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Study/Ancient-poems.html"><strong aria-hidden="true">1.9.3.21.1.</strong> Ancient-poems</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Study/Zhongkao-maths.html"><strong aria-hidden="true">1.9.3.21.2.</strong> Zhongkao-maths</a></li></ol></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Python/index.html"><strong aria-hidden="true">1.9.3.22.</strong> Python</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Python/Python-Generator-Iterator-decorater.html"><strong aria-hidden="true">1.9.3.22.1.</strong> Python-Generator-Iterator-decorater</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Python/Python-Tkinter-GUI.html"><strong aria-hidden="true">1.9.3.22.2.</strong> Python-Tkinter-GUI</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Python/Python-Concurrent.html"><strong aria-hidden="true">1.9.3.22.3.</strong> Python-Concurrent</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Python/Flask-Web-note.html"><strong aria-hidden="true">1.9.3.22.4.</strong> Flask-Web-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Python/Python-async.html"><strong aria-hidden="true">1.9.3.22.5.</strong> Python-async</a></li></ol></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/index.html"><strong aria-hidden="true">1.9.3.23.</strong> Golang</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-id-note.html"><strong aria-hidden="true">1.9.3.23.1.</strong> Golang-id-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-interface-note.html"><strong aria-hidden="true">1.9.3.23.2.</strong> Golang-interface-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-note-catalogue.html"><strong aria-hidden="true">1.9.3.23.3.</strong> Golang-note-catalogue</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-map-note.html"><strong aria-hidden="true">1.9.3.23.4.</strong> Golang-map-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-error-note.html"><strong aria-hidden="true">1.9.3.23.5.</strong> Golang-error-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-datatype-note.html"><strong aria-hidden="true">1.9.3.23.6.</strong> Golang-datatype-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-package-note.html"><strong aria-hidden="true">1.9.3.23.7.</strong> Golang-package-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-const-note.html"><strong aria-hidden="true">1.9.3.23.8.</strong> Golang-const-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-struct-note.html"><strong aria-hidden="true">1.9.3.23.9.</strong> Golang-struct-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-JSON-note.html"><strong aria-hidden="true">1.9.3.23.10.</strong> Golang-JSON-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-method-note.html"><strong aria-hidden="true">1.9.3.23.11.</strong> Golang-method-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-function-note.html" class="active"><strong aria-hidden="true">1.9.3.23.12.</strong> Golang-function-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-envbuild-note.html"><strong aria-hidden="true">1.9.3.23.13.</strong> Golang-envbuild-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-project-and-gomod-note.html"><strong aria-hidden="true">1.9.3.23.14.</strong> Golang-project-and-gomod-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-type-keyword-note.html"><strong aria-hidden="true">1.9.3.23.15.</strong> Golang-type-keyword-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-variable-note.html"><strong aria-hidden="true">1.9.3.23.16.</strong> Golang-variable-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-pointer-note.html"><strong aria-hidden="true">1.9.3.23.17.</strong> Golang-pointer-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-goruntine-note.html"><strong aria-hidden="true">1.9.3.23.18.</strong> Golang-goruntine-note</a></li><li class="chapter-item expanded "><a href="../../../博客文章/博客文章_post/Golang/Golang-HTML-note.html"><strong aria-hidden="true">1.9.3.23.19.</strong> Golang-HTML-note</a></li></ol></li></ol></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">WhaleFall Obsidian Notes</h1>

                    <div class="right-buttons">
                        <a href="../../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <hr />
<p>title: Golang 学习笔记——func函数
date: 2022-05-2 2:17:48
updated: 2022-05-2 2:17:48
categories: Golang
tags: [Golang, Coding]
description:
thumbnail: http://oss.whaleluo.top/blog/Golang/icon_img.png-picsmall
banner_img: http://oss.whaleluo.top/blog/Golang/icon_img.png-picsmall</p>
<hr />
<h1 id="go-函数"><a class="header" href="#go-函数">Go 函数</a></h1>
<pre><code class="language-go">// 6.5, 7.8 实际参数
// x, y 形式参数
res := hypot(6.5, 7.8)

func hypot(x, y float64) float64 {
   return math.Sqrt(x*x + y*y)
}
fmt.Println(hypot(3,4)) // &quot;5&quot;
</code></pre>
<p>函数调用时，Go 语言没有默认参数值，也没有任何方法可以通过参数名指定形参，因此形参和返回值的变量名对于函数调用者而言没有意义。</p>
<p>实参通过值的方式传递，因此函数的 <strong>形参是实参的拷贝</strong> 。对形参进行修改不会影响实参。但是，如果实参包括 <strong>引用类型</strong>，如指针，slice(切片)、map、function、channel 等类型，实参可能会由于函数的简介引用被修改。</p>
<p>偶尔遇到没有函数体的函数声明，这表示该函数不是以 Go 实现的。这样的声明定义了函数标识符。</p>
<p>Go 使用控制流机制（如 if 和 return）处理异常，这使得编码人员能更多的关注错误处理。</p>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-2.png-picsmall" alt="" /></p>
<h2 id="函数调用过程"><a class="header" href="#函数调用过程">函数调用过程</a></h2>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-1.png-picsmall" alt="" /><br />
<img src="http://oss.whaleluo.top/blog/Golang/func-3.png-picsmall" alt="" /><br />
<img src="http://oss.whaleluo.top/blog/Golang/func-4.png-picsmall" alt="" /></p>
<h2 id="函数的参数使用"><a class="header" href="#函数的参数使用">函数的参数使用</a></h2>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-5.png-picsmall" alt="" /></p>
<h2 id="实参和形参"><a class="header" href="#实参和形参">实参和形参</a></h2>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-6.png-picsmall" alt="" /></p>
<h2 id="函数传参"><a class="header" href="#函数传参">函数传参</a></h2>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-7.png-picsmall" alt="" /><br />
<img src="http://oss.whaleluo.top/blog/Golang/func-8.png-picsmall" alt="" /></p>
<h2 id="可变参数"><a class="header" href="#可变参数">可变参数</a></h2>
<p>参数数量可变的函数称为为可变参数函数。需要在参数列表的最后一个参数类型之前加上省略符号“…”，这表示该函数会接收任意数量的该类型参数。</p>
<pre><code class="language-go">func sum(vals...int) int
</code></pre>
<p>在函数体中,vals 被看作是类型为 []int 的切片。sum 可以接收任意数量的 int 型参数：</p>
<p>如果原始参数已经是切片类型,在最后一个参数后加上省略符。</p>
<pre><code class="language-go">values := []int{1, 2, 3, 4}
fmt.Println(sum(values...)) // &quot;10&quot;
</code></pre>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-9.png-picsmall" alt="" /><br />
<img src="http://oss.whaleluo.top/blog/Golang/func-10.png-picsmall" alt="" /></p>
<h2 id="参数传递"><a class="header" href="#参数传递">参数传递</a></h2>
<p>实参通过值的方式传递，因此函数的 <strong>形参是实参的拷贝</strong> 。对形参进行修改不会影响实参。但是，如果实参包括 <strong>引用类型</strong>，如指针，slice(切片)、map、function、channel 等类型，实参可能会由于函数的间接引用被修改。</p>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-13.png-picsmall" alt="" /></p>
<h3 id="参数的值传递"><a class="header" href="#参数的值传递">参数的值传递</a></h3>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-11.png-picsmall" alt="" /></p>
<h3 id="参数的引用传递"><a class="header" href="#参数的引用传递">参数的引用传递</a></h3>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-12.png-picsmall" alt="" /></p>
<h2 id="函数的返回值"><a class="header" href="#函数的返回值">函数的返回值</a></h2>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-17.png-picsmall" alt="" /></p>
<hr />
<p><img src="http://oss.whaleluo.top/blog/Golang/func-14.png-picsmall" alt="" /><br />
<img src="http://oss.whaleluo.top/blog/Golang/func-15.png-picsmall" alt="" /></p>
<blockquote>
<p>在定义参数返回值的时候已经初始化了.</p>
</blockquote>
<h3 id="函数多返回值"><a class="header" href="#函数多返回值">函数多返回值</a></h3>
<p>如果一个函数将所有的返回值都显示的变量名，那么该函数的 return 语句可以省略操作数。这称之为 bare return。</p>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-16.png-picsmall" alt="" /></p>
<h3 id="return-语句"><a class="header" href="#return-语句">Return 语句</a></h3>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-18.png-picsmall" alt="" /><br />
<code>return</code> 语句：词义 &quot; 返回 &quot;</p>
<ol>
<li>一个函数有返回值，那么使用 return 将返回值返回给调用处</li>
<li>同时意味着结束了函数的执行</li>
</ol>
<p><strong>注意点:</strong></p>
<ol>
<li>一个函数定义了返回值，必须使用 return 语句将<strong>结果返回给调用处</strong>。return 后的数据必须和<strong>函数定义的一致</strong>：个数，类型，顺序。</li>
<li>可以使用 <code>_</code>,来舍弃多余的返回值</li>
<li>如果一个函数定义了有返回值，那么函数中有分支，循环，那么要保证，无论执行了哪个分支，都要有 <code>return</code> 语句被执行到.</li>
<li>如果一个函数没有定义返回值，那么函数中也可以使用 return,专门用于<strong>结束函数的执行</strong>。</li>
</ol>
<h2 id="函数中变量的作用域"><a class="header" href="#函数中变量的作用域">函数中变量的作用域</a></h2>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-19.png-picsmall" alt="" /></p>
<blockquote>
<p>随着函数的结束,函数内的变量自己会销毁.</p>
</blockquote>
<h3 id="全局变量和局部变量"><a class="header" href="#全局变量和局部变量">全局变量和局部变量</a></h3>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-20.png-picsmall" alt="" /></p>
<blockquote>
<p>全局变量 <strong>不支持简短定义的写法</strong></p>
<pre><code class="language-go">// s := 0.12 全局变量不能使用类型推断
var s float64 = 0.12  // 全局变量定义正确方式
</code></pre>
</blockquote>
<h2 id="递归函数"><a class="header" href="#递归函数">递归函数</a></h2>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-21.png-picsmall" alt="" /><br />
<img src="http://oss.whaleluo.top/blog/Golang/func-22.png-picsmall" alt="" /></p>
<p>递归函数实现 fibonacci 数列 (斐波那契数列)</p>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-23.png-picsmall" alt="斐波那契数列" /><br />
<img src="http://oss.whaleluo.top/blog/Golang/func-24.png-picsmall" alt="" /></p>
<h2 id="defer延迟函数"><a class="header" href="#defer延迟函数">defer(延迟函数)</a></h2>
<p><strong>defer 的词义:&quot; 延迟&quot;,&quot; 推迟&quot;</strong>,在 go 语言中,使用 <code>defer</code> 关键字来延迟一个函数或者方法的执行.</p>
<p>你可以在一个函数中执行多条 defer 语句，它们的执行顺序与声明顺序相反。</p>
<p>defer 语句经常被用于处理成对的操作，如打开、关闭、连接、断开连接、加锁、释放锁。释放资源的 defer 应该直接跟在请求资源的语句后。</p>
<ol>
<li>deferi 函数或方法：<strong>一个函数或方法的执行被延迟了。</strong></li>
<li>defer 的用法:<br />
对象,close(),临时文件的删除.<br />
文件.open()<br />
defer close() 关闭文件</li>
</ol>
<pre><code class="language-go">package ioutil
func ReadFile(filename string) ([]byte, error) {
   f, err := os.Open(filename)
   if err != nil {
      return nil, err
   }
   defer f.Close()
   return ReadAll(f)
}
</code></pre>
<h3 id="使用-defer-记录函数"><a class="header" href="#使用-defer-记录函数">使用 Defer 记录函数</a></h3>
<p>defer 机制也常被用于记录何时进入和退出函数。</p>
<p>不要忘记 defer 语句后的圆括号，否则本该在进入时执行的操作会在退出时执行，而本该在退出时执行的，永远不会被执行。</p>
<pre><code class="language-go">// 使用闭包跟踪函数运行时间
func trace(msg string) func() {
   start := time.Now()
   log.Printf(&quot;enter %s&quot;, msg)
   return func() {
      log.Printf(&quot;exit %s (%s)&quot;, msg,time.Since(start))
   }
}

func bigSlowOperation() {
   defer trace(&quot;bigSlowOperation&quot;)() // don't forget the
   // extra parentheses
   // ...lots of work…
   time.Sleep(10 * time.Second) // simulate slow
   // operation by sleeping
}
</code></pre>
<h3 id="语言中关于异常的处理"><a class="header" href="#语言中关于异常的处理">语言中关于异常的处理</a></h3>
<p>虽然 Go 的 panic 机制类似于其他语言的异常，但 panic 的适用场景有一些不同。由于 panic 会引起程序的崩溃，因此 panic 一般用于严重错误，如程序内部的逻辑不一致.对于大部分漏洞，我们应该使用 Go 提供的错误机制，而不是 panic ，<strong>尽量避免程序的崩溃</strong>。</p>
<p><code>regexp</code> 包提供了包装函数 <code>regexp.MustCompile</code> 检查输入的合法性。输入错误就立马 panic,函数名中的 <strong>Must 前缀是一种针对此类函数输入错误的立马 panic</strong></p>
<pre><code class="language-go">package regexp
func Compile(expr string) (*Regexp, error) { /* ... */ }
func MustCompile(expr string) *Regexp {
re, err := Compile(expr)
if err != nil {
panic(err)
}
return re
}
</code></pre>
<h4 id="runtime-输出堆栈信息"><a class="header" href="#runtime-输出堆栈信息">Runtime 输出堆栈信息</a></h4>
<pre><code class="language-go">func main() {
defer printStack()
f(3)
}
func printStack() {
var buf [4096]byte  // 字节切片储存信息
n := runtime.Stack(buf[:], false) // 写入
os.Stdout.Write(buf[:n]) // 写入到输出流
}
</code></pre>
<h4 id="使用-panic-和-recover"><a class="header" href="#使用-panic-和-recover">使用 <code>panic()</code> 和 <code>recover()</code></a></h4>
<p>panic 函数用于引发恐慌，导致程序中断执行</p>
<p>recover 函数用于恢复程序的执行，<code>recover()</code> 语法上要求必须在 <code>defer</code> 中执行。</p>
<ol>
<li>如果多个 defer 函数：</li>
<li>defer 函数传递参数的时候：</li>
</ol>
<p>如果在 deferred 函数中调用了内置函数 recover，并且定义该 defer 语句的函数发生了 panic 异常，recover 会使程序从 panic 中恢复，并返回 panic value。导致 panic 异常的函数<strong>不会继续运行，但能正常返回</strong>。在未发生 panic 时调用 recover，recover 会返回 nil。</p>
<pre><code class="language-go">func Parse(input string) (s *Syntax, err error) {
defer func() {
if p := recover(); p != nil {
err = fmt.Errorf(&quot;internal error: %v&quot;, p)
}
}()
// ...parser...
    panic(&quot;错误&quot;) // 程序不会停止,会转到 defer recover 处理
}
</code></pre>
<p>安全的做法是有选择性的 recover 。换句话说，只恢复应该被恢复的 panic 异常.</p>
<p>可以将 panic value 设置成特殊类型。在 recover 时对 panic value 进行检查，如果发现 panic value 是特殊类型，就将这个 panic 作为 error 处理，如果不是，则按照正常的 panic 进行处理.</p>
<pre><code class="language-go">func soleTitle(doc *html.Node) (title string, err error) {
type bailout struct{}
defer func() {
    // 通过 switch 语句 判断 panic 的类型
    // 进行有选择的 recover
switch p := recover(); p {
case nil: // no panic
case bailout{}: // &quot;expected&quot; panic
err = fmt.Errorf(&quot;multiple title elements&quot;)
default:
panic(p) // unexpected panic; carry on panicking
}
}()

panic(bailout{})
}

</code></pre>
<h3 id="栈的结构-先进后出后进先出"><a class="header" href="#栈的结构-先进后出后进先出">栈的结构 (先进后出!后进先出!)</a></h3>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-25.png-picsmall" alt="" /><br />
当一个函数有多个延迟调用时，它们被添加到一<br />
个堆栈中，并 Last In First Out(LIFO) <strong>先进后出!后进先出!</strong> 的顺序中执行。</p>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-26.png-picsmall" alt="" /><br />
<img src="http://oss.whaleluo.top/blog/Golang/func-27.png-picsmall" alt="" /></p>
<h3 id="defer-注意点"><a class="header" href="#defer-注意点">Defer 注意点</a></h3>
<ol>
<li>当外围函数中的语句正常执行完毕时，只有其中所有的延迟函数都执行完毕，外围函数才会真正的结束执行。</li>
<li>当执行外围函数中的 return 语句时，只有其中所有的延迟函数都执行完毕后，外围函数才会真正返回。</li>
<li>当外围函数中的代码引发运行恐慌时，只有其中所有的延迟函数都执行完毕后，该运行时恐慌才会真正被扩展至调用函数。</li>
</ol>
<h2 id="函数的数据类型"><a class="header" href="#函数的数据类型">函数的数据类型</a></h2>
<p>在 Go 中，函数被看作第一类值 (一等公民)（first-class values）：函数像其他值一样，拥有类型，可以被赋值给其他变量，传递给函数，从函数返回。</p>
<p><code>strings.Map</code> <strong>对字符串中的每个字符</strong> 调用 add1 函数，并将每个 add1 函数的返回值组成一个新的字符串返回给调用者。</p>
<pre><code class="language-go">type rune = int32
func Map(mapping func(rune) rune, s string) string
</code></pre>
<pre><code class="language-go">func add1(r rune) rune { return r + 1 }

fmt.Println(strings.Map(add1, &quot;HAL-9000&quot;)) // &quot;IBM.:111&quot;
fmt.Println(strings.Map(add1, &quot;VMS&quot;)) // &quot;WNT&quot;
fmt.Println(strings.Map(add1, &quot;Admix&quot;)) // &quot;Benjy&quot;
</code></pre>
<p>函数的类型：<br />
<code>func(参数列表的数据类型)(返回值列表的数据类型)</code></p>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-31.png-picsmall" alt="" /></p>
<h3 id="基本类型回顾"><a class="header" href="#基本类型回顾">基本类型回顾</a></h3>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-28.png-picsmall" alt="" /></p>
<h2 id="函数的本质"><a class="header" href="#函数的本质">函数的本质</a></h2>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-30.png-picsmall" alt="" /></p>
<hr />
<p><img src="http://oss.whaleluo.top/blog/Golang/func-29.png-picsmall" alt="" /></p>
<blockquote>
<p>&quot; 说到底,函数也是一种特殊类型的变量.&quot;</p>
</blockquote>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-32.png-picsmall" alt="" /></p>
<h2 id="匿名函数"><a class="header" href="#匿名函数">匿名函数</a></h2>
<p>拥有函数名的函数只能在包级语法块中被声明，通过函数字面量（function literal），，在任何表达式中表示一个函数值。函数值字面量是一种表达式，它的值被称为匿名函数<br />
（anonymous function）。</p>
<pre><code class="language-go">strings.Map(func(r rune) rune { return r + 1 }, &quot;HAL-9000&quot;)
</code></pre>
<p>通过这种方式定义的函数可以访问 <strong>完整的词法环境</strong>（lexical environment），这意味着在函数中定义的内部函数可以引用该函数的变量，如下例所示：</p>
<p>在 squares 中定义的匿名内部函数可以访问和更新 squares 中的局部变量，匿名函数和 squares 中，存在变量引用。</p>
<p>变量的生命周期不由它的作用域决定：squares 返回后，变量 x 仍然隐式的存在于 f 中。</p>
<p>Go 使用闭包（closures）技术实现函数值，Go 程序员也把函数值叫做闭包。</p>
<pre><code class="language-go">// squares返回一个匿名函数。（闭包）
// 该匿名函数每次被调用时都会返回下一个数的平方。
func squares() func() int {
   var x int
   return func() int {
      x++
      return x * x
   }
}
func main() {
   // f是匿名函数，可以访问到 squares 保持的 x 局部变量
   f := squares() 
   fmt.Println(f()) // &quot;1&quot;
   fmt.Println(f()) // &quot;4&quot;
   fmt.Println(f()) // &quot;9&quot;
   fmt.Println(f()) // &quot;16&quot;
}
</code></pre>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-36.png-picsmall" alt="" /></p>
<hr />
<p><img src="http://oss.whaleluo.top/blog/Golang/func-34.png-picsmall" alt="" /><br />
<img src="http://oss.whaleluo.top/blog/Golang/func-35.png-picsmall" alt="" /></p>
<h2 id="回调函数"><a class="header" href="#回调函数">回调函数</a></h2>
<p><img src="http://oss.whaleluo.top/blog/Golang/func-41.png-picsmall" alt="" /></p>
<hr />
<p><img src="http://oss.whaleluo.top/blog/Golang/func-37.png-picsmall" alt="" /><br />
<img src="http://oss.whaleluo.top/blog/Golang/func-38.png-picsmall" alt="" /><br />
<img src="http://oss.whaleluo.top/blog/Golang/func-39.png-picsmall" alt="" /><br />
<img src="http://oss.whaleluo.top/blog/Golang/func-40.png-picsmall" alt="" /></p>
<h2 id="闭包"><a class="header" href="#闭包">闭包</a></h2>
<h3 id="go-语言支持函数式编程"><a class="header" href="#go-语言支持函数式编程">Go 语言支持函数式编程</a></h3>
<p>函数被看作第一类值（first-class values）：函数像其他值一样，拥有类型，可以被赋值给其他变量，传递给函数，从函数返回。对函数值（function value）的调用类似函数调用。</p>
<p>函数类型的零值是 nil。调用值为 nil 的函数值会引起 panic 错误.</p>
<p>函数值之间是不可比较的，也不能用函数值作为 map 的 key。</p>
<p>支持将一个函数作为另一个函数的参数,也支持将一个函数作为另一个函数的返回值.</p>
<p>strings.Map <strong>对字符串中的每个字符调用</strong> add1 函数，并将每个 add1 函数的返回值组成一个新的字符串返回给调用者。</p>
<pre><code class="language-go">func add1(r rune) rune { return r + 1 }
fmt.Println(strings.Map(add1, &quot;HAL-9000&quot;)) // &quot;IBM.:111&quot;

fmt.Println(strings.Map(func(r rune) rune { return r + 1 }, &quot;HAL-9000&quot;)) // 使用匿名函数的方式
</code></pre>
<h3 id="闭包-closure"><a class="header" href="#闭包-closure">闭包 (closure)</a></h3>
<p>一个外层函数中,有内层函数,该内层函数中,会操作外层函数的 <strong>局部变量</strong> (外层函数中的参数，或者外层函数中直接定义的变量),并且该外层函数的返回值就是这个内层函数.</p>
<p>这个<strong>内层函数和外层函数的局部变量</strong>，统称为<strong>闭包结构</strong>。</p>
<p>局部变量的 <strong>生命周期</strong> 会发生改变，正常的局部变量随着函数调用而创建，随着函数的结束而销毁</p>
<p>但是闭包结构中的外层函数的局部变量并不会随着外层函数的结束销毁，因为内层函数还要<strong>继续使用</strong>。</p>
<hr />
<p><img src="http://oss.whaleluo.top/blog/Golang/func-43.png-picsmall" alt="" /><br />
<img src="http://oss.whaleluo.top/blog/Golang/func-42.png-picsmall" alt="" /><br />
<img src="http://oss.whaleluo.top/blog/Golang/func-44.png-picsmall" alt="" /></p>
<h2 id="捕获迭代变量"><a class="header" href="#捕获迭代变量">捕获迭代变量</a></h2>
<blockquote>
<p><strong>将介绍 Go 词法作用域的一个陷阱。请务必仔细的阅读，弄清楚发生问题的原因。即使是经验丰富的程序员也会在这个问题上犯错误。</strong></p>
</blockquote>
<p>循环中的 d 函数值记录的是 <strong>循环变量的内存地址</strong> ，不是循环变量某一时刻的值。for 循环结束时，d 指向循环最后一次迭代的值。而需要一个局部变量 dir 将 d <strong>进行深拷贝保存作为循环变量的副本</strong>。</p>
<pre><code class="language-go">var rmdirs []func()
for _, d := range tempDirs() {
   dir := d // NOTE: necessary!
   os.MkdirAll(dir, 0755) // creates parent directories too
   rmdirs = append(rmdirs, func() {
      os.RemoveAll(dir)
   })
}
// ...do some work…
for _, rmdir := range rmdirs {
 rmdir() // clean up
}
</code></pre>
<p>这个问题不仅存在基于 range 的循环，go 语句或者 defer 语句会经常遇到此类问题。这不是 go 或 defer 本身导致的，而是因为它们都会 <strong>等待循环结束后</strong> ，再执行函数值。</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../../博客文章/博客文章_post/Golang/Golang-method-note.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../../博客文章/博客文章_post/Golang/Golang-envbuild-note.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../../博客文章/博客文章_post/Golang/Golang-method-note.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../../博客文章/博客文章_post/Golang/Golang-envbuild-note.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../../elasticlunr.min.js"></script>
        <script src="../../../mark.min.js"></script>
        <script src="../../../searcher.js"></script>

        <script src="../../../clipboard.min.js"></script>
        <script src="../../../highlight.js"></script>
        <script src="../../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
